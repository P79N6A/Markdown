<!DOCTYPE html>
<html lang="zh-cn"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><script src="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/ca-pub-4210569241504288.js"></script><script src="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/analytics.js" async=""></script>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Nginx + CGI/FastCGI + C/Cpp - 吴秦 - 博客园</title>
<link type="text/css" rel="stylesheet" href="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/bundle-Minyx2_Lite.css">
<link type="text/css" rel="stylesheet" href="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/61567.css">
<link id="mobile-style" media="only screen and (max-width: 768px)" type="text/css" rel="stylesheet" href="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/bundle-Minyx2_Lite-mobile.css">
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/skynet/rss">
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/skynet/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/skynet/wlwmanifest.xml">
<script src="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/jquery.js" type="text/javascript"></script>  
<script type="text/javascript">var currentBlogApp = 'skynet', cb_enable_mathjax=false;var isLogined=false;</script>
<script src="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/blog-common.js" type="text/javascript"></script>
<script src="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/bundle-Minyx2_Lite.js" language="javascript" type="text/javascript"></script>
</head>
<body>
<a name="top"></a>


<div id="container">
    <a class="minyx" href="http://www.cnblogs.com/">代码改变世界</a>
    <ul id="topMnu">
        <!-- 统计数据 -->
        <li>
            
                <div id="blog_stats">
Posts - 107, 
Articles - 0, 
Comments - 1712
<!----></div>
            
        </li>
        <!-- 这边可以增加一些链接 -->
        <!-- 博客园 -->
        <li><a href="http://www.cnblogs.com/">Cnblogs</a></li>
        <!-- 管理 -->
        <li id="topMnu-dashboard">
            <a id="lnkDashboard" href="http://www.cnblogs.com/skynet/admin/EditPosts.aspx">Dashboard</a></li>
        <li>
            <a id="lnkLogin" href="http://passport.cnblogs.com/login.aspx?ReturnUrl=http://www.cnblogs.com/skynet/p/4173450.html">Login</a></li>
    </ul>

    <script type="text/javascript">
        var m = window.__blog.topMenuRendered;
        if (m) { m(__$("topMnu")); }
    </script>

    <div id="header">
        <ul id="menu">
            <!-- 首页，当前section加上current类 -->
            <li id="menu-home" class="current">
                <a id="lnkHome" href="http://www.cnblogs.com/skynet/">Home</a></li>
            <!-- 联系 -->
            <li id="menu-contact">
                <a id="lnkContact" href="http://space.cnblogs.com/msg/send/%e5%90%b4%e7%a7%a6">Contact</a></li>
            <!-- 相册 -->
            <li id="menu-gallary">
                <a id="lnkGallery" href="http://www.cnblogs.com/skynet/gallery.html">Gallery</a></li>
            <!-- Rss订阅 -->
            <li id="rss">
                <a id="lnkRss" href="http://www.cnblogs.com/skynet/rss">RSS</a></li>
        </ul>
        <div id="newmsg"></div>
        <h1>
            <!-- 主标题 -->
            <a id="lnkBlogTitle" href="http://www.cnblogs.com/skynet/">吴秦（Tyler）</a>
            <!-- 子标题 -->
            <small>
                </small>
        </h1>
    </div>

    <script type="text/javascript">
        var m = window.__blog.headerRendered;
        if (m) { m(__$("header")); }
    </script>

    <div id="wrapper">
        <div id="content">
            <script type="text/javascript">
                var m = window.__blog.preRenderPosts;
                if (m) { m(); }
            </script>
            
<div id="post_detail">
<div class="post" id="post">
    <a name="top"></a>
    <h2><a id="cb_post_title_url" href="http://www.cnblogs.com/skynet/p/4173450.html">Nginx + CGI/FastCGI + C/Cpp</a></h2>
    <small>2014-12-19 11:05 by 吴秦, <span id="post_view_count">25426</span> 阅读, <span id="post_comment_count">6</span> 评论, <a href="#" onclick="AddToWz(4173450);return false;">收藏</a>,  <a href="https://i.cnblogs.com/EditPosts.aspx?postid=4173450" rel="nofollow">编辑</a></small>
    <div class="entry">
        <div id="cnblogs_post_body"><p style="tab-stops: 21.0pt right dotted 414.8pt" class="MsoToc1"><span lang="EN-US"><span class="MsoHyperlink"><span style="mso-no-proof: yes">接着上篇《</span></span></span><a href="http://www.cnblogs.com/skynet/p/4146083.html">Nginx安装与使用</a><span lang="EN-US"><span class="MsoHyperlink"><span style="mso-no-proof: yes">》，本篇介绍CGI/FASTCGI的原理、及如何使用C/C++编写简单的CGI/FastCGI，最后将CGI/FASTCGI部署到nginx。内容大纲如下：</span></span></span></p> <p style="tab-stops: 21.0pt right dotted 414.8pt" class="MsoToc1"><span lang="EN-US"><span class="MsoHyperlink"><span style="mso-no-proof: yes">1.<span style="line-height: 115%; color: windowtext; font-size: 10.5pt; text-decoration: none; text-underline: none; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-size: 11.0pt; mso-font-kerning: 1.0pt"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp;&nbsp; </span></span>CGI</span></span></span></p> <p style="margin-left: 24pt; tab-stops: 52.5pt right dotted 414.8pt" class="MsoToc2"><span class="MsoHyperlink"><span style="mso-no-proof: yes" lang="EN-US">1.1.<span style="line-height: 115%; color: windowtext; font-size: 10.5pt; text-decoration: none; text-underline: none; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-size: 11.0pt; mso-font-kerning: 1.0pt"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin" lang="EN-US"><span lang="EN-US">环境变量</span></span></span></span></p> <p style="margin-left: 24pt; tab-stops: 52.5pt right dotted 414.8pt" class="MsoToc2"><span class="MsoHyperlink"><span style="mso-no-proof: yes" lang="EN-US">1.2.<span style="line-height: 115%; color: windowtext; font-size: 10.5pt; text-decoration: none; text-underline: none; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-size: 11.0pt; mso-font-kerning: 1.0pt"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin" lang="EN-US"><span lang="EN-US">标准输入</span></span></span></span></p> <p style="tab-stops: 21.0pt right dotted 414.8pt" class="MsoToc1"><span class="MsoHyperlink"><span style="mso-no-proof: yes" lang="EN-US">2.<span style="line-height: 115%; color: windowtext; font-size: 10.5pt; text-decoration: none; text-underline: none; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-size: 11.0pt; mso-font-kerning: 1.0pt"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="background: white">FastCGI</span><span style="display: none; color: windowtext; text-decoration: none; text-underline: none; mso-hide: screen"><span style="mso-tab-count: 1 dotted"> </span></span></span></span></p> <p style="tab-stops: right dotted 414.8pt" class="MsoToc1"><span class="MsoHyperlink"><span style="mso-no-proof: yes" lang="EN-US">3. nginx cgi/fastcgi</span></span></p> <p style="margin-left: 24pt; tab-stops: right dotted 414.8pt" class="MsoToc2"><span class="MsoHyperlink"><span style="mso-no-proof: yes" lang="EN-US">3.1. nginx + fastcgi</span></span></p> <p style="margin-left: 48pt; tab-stops: right dotted 414.8pt" class="MsoToc3"><span class="MsoHyperlink"><span style="mso-no-proof: yes" lang="EN-US">3.1.1. spawn-fcgi</span></span></p> <p style="margin-left: 48pt; tab-stops: right dotted 414.8pt" class="MsoToc3"><span class="MsoHyperlink"><span style="mso-no-proof: yes" lang="EN-US">3.1.2. <span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin" lang="EN-US"><span lang="EN-US">编写</span></span>fastcgi<span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin" lang="EN-US"><span lang="EN-US">应用程序</span></span></span></span></p> <p style="margin-left: 48pt; tab-stops: right dotted 414.8pt" class="MsoToc3"><span class="MsoHyperlink"><span style="mso-no-proof: yes" lang="EN-US">3.1.3. nginx fastcgi<span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin" lang="EN-US"><span lang="EN-US">配置</span></span></span></span></p> <p style="margin-left: 24pt; tab-stops: right dotted 414.8pt" class="MsoToc2"><span class="MsoHyperlink"><span style="mso-no-proof: yes" lang="EN-US"><span style="background: white">3.2. nginx + cgi</span></span></span></p> <p style="margin-left: 48pt; tab-stops: right dotted 414.8pt" class="MsoToc3"><span class="MsoHyperlink"><span style="mso-no-proof: yes" lang="EN-US">3.2.1 fastcgi-wrapper</span></span></p> <p style="margin-left: 48pt; tab-stops: right dotted 414.8pt" class="MsoToc3"><span class="MsoHyperlink"><span style="mso-no-proof: yes" lang="EN-US"><span style="background: white">3.2.2. nginx </span>fcgiwrap<span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin" lang="EN-US"><span lang="EN-US">配置</span></span></span></span></p> <p style="margin-left: 48pt; tab-stops: right dotted 414.8pt" class="MsoToc3"><span class="MsoHyperlink"><span style="mso-no-proof: yes" lang="EN-US">3.2.3. <span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin" lang="EN-US"><span lang="EN-US">编写</span></span>cgi<span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin" lang="EN-US"><span lang="EN-US">应用程序</span></span></span></span></p> <p style="tab-stops: right dotted 414.8pt" class="MsoToc1"><span class="MsoHyperlink"><span style="mso-no-proof: yes" lang="EN-US"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin" lang="EN-US"><span lang="EN-US">参考链接</span></span></span></span></p> <p style="tab-stops: right dotted 414.8pt" class="MsoToc1"><span class="MsoHyperlink"><span style="mso-no-proof: yes" lang="EN-US"></span></span><span style="line-height: 115%; font-size: 10.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-size: 11.0pt; mso-no-proof: yes; mso-font-kerning: 1.0pt" lang="EN-US"><!--?xml:namespace prefix = o /--><o:p></o:p></span>&nbsp;</p> <div style="border-bottom: #ed7d31 1pt solid; border-left: medium none; padding-bottom: 2pt; padding-left: 0cm; padding-right: 0cm; border-top: medium none; border-right: medium none; padding-top: 0cm; mso-element: para-border-div; mso-border-bottom-themecolor: accent2; mso-border-bottom-alt: solid #ed7d31 .5pt"> <h1><span lang="EN-US">1.CGI<o:p></o:p></span></h1></div> <p class="MsoNormal"><b><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">通用网关接口</span></b><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">（</span><b><span style="background: white; color: #252525" lang="EN-US">C</span></b><span style="background: white; color: #252525" lang="EN-US">ommon <b>G</b>ateway <b>I</b>nterface/<b>CGI</b></span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">）<b>描述了客户端和服务器程序之间传输数据的一种标准</b>，可以让一个客户端，从</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">网页浏览器<span style="background: white; color: #252525">向执行在网络</span>服务器<span style="background: white; color: #252525">上的程序请求数据。</span></span><span style="background: white; color: #252525" lang="EN-US">CGI </span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">独立于任何语言的，</span><span style="background: white; color: #252525" lang="EN-US">CGI </span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">程序可以</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">用任何</span><span lang="EN-US"><a title="脚本语言" href="http://zh.wikipedia.org/wiki/%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80"><span style="font-family: '微软雅黑',sans-serif; color: windowtext; text-decoration: none; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin; text-underline: none" lang="EN-US"><span lang="EN-US">脚本语言</span></span></a></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">或者是完全独立</span><span lang="EN-US"><a title="编程语言" href="http://zh.wikipedia.org/wiki/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80"><span style="font-family: '微软雅黑',sans-serif; color: windowtext; text-decoration: none; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin; text-underline: none" lang="EN-US"><span lang="EN-US">编程语言</span></span></a></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">实现，<span style="background: white; color: #252525">只要这个语言可以在这个系统上运行。</span></span><span lang="EN-US"><a title="Unix shell" href="http://zh.wikipedia.org/wiki/Unix_shell"><span style="line-height: 115%; font-family: 'Arial',sans-serif; color: #0b0080; font-size: 10.5pt">Unix shell</span></a><span style="background: white; color: #252525"> script, </span><a title="Python" href="http://zh.wikipedia.org/wiki/Python"><span style="line-height: 115%; font-family: 'Arial',sans-serif; color: #0b0080; font-size: 10.5pt">Python</span></a><span style="background: white; color: #252525">, </span><a title="Ruby" href="http://zh.wikipedia.org/wiki/Ruby"><span style="line-height: 115%; font-family: 'Arial',sans-serif; color: #0b0080; font-size: 10.5pt">Ruby</span></a><span style="background: white; color: #252525">, </span><a title="PHP" href="http://zh.wikipedia.org/wiki/PHP"><span style="line-height: 115%; font-family: 'Arial',sans-serif; color: #0b0080; font-size: 10.5pt">PHP</span></a><span style="background: white; color: #252525">, perl, </span><a title="Tcl" href="http://zh.wikipedia.org/wiki/Tcl"><span style="line-height: 115%; font-family: 'Arial',sans-serif; color: #0b0080; font-size: 10.5pt">Tcl</span></a><span style="background: white; color: #252525">, </span><a title="C语言" href="http://zh.wikipedia.org/wiki/C%E8%AF%AD%E8%A8%80"><span style="line-height: 115%; font-family: 'Arial',sans-serif; color: #0b0080; font-size: 10.5pt">C</span></a><span style="background: white; color: #252525">/</span><a title="C++" href="http://zh.wikipedia.org/wiki/C%2B%2B"><span style="line-height: 115%; font-family: 'Arial',sans-serif; color: #0b0080; font-size: 10.5pt">C++</span></a><span style="background: white; color: #252525">, </span></span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">和</span><span style="background: white; color: #252525" lang="EN-US">&nbsp;</span><span lang="EN-US"><a title="Visual Basic" href="http://zh.wikipedia.org/wiki/Visual_Basic"><span style="line-height: 115%; font-family: 'Arial',sans-serif; color: #0b0080; font-size: 10.5pt">Visual Basic</span></a><span style="background: white; color: #252525">&nbsp;</span></span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">都可以用来编写</span><span style="background: white; color: #252525" lang="EN-US"> CGI </span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">程序。</span><span style="background: white; color: #252525" lang="EN-US">(</span><span lang="EN-US"><a href="http://www.dwz.cn/yFFgQ"><span style="line-height: 115%; font-family: consolas; font-size: 9pt">http://www.dwz.cn/yFFgQ</span></a><span style="background: white; color: #252525">)</span></span><span style="line-height: 115%; font-family: consolas; font-size: 9pt" lang="EN-US"><o:p></o:p></span></p> <p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">最初，</span><span style="background: white; color: #252525" lang="EN-US">CGI </span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">是在</span><span style="background: white; color: #252525" lang="EN-US"> 1993 </span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">年由美国</span><span lang="EN-US"><a title="国家超级电脑应用中心" href="http://zh.wikipedia.org/wiki/%E5%9B%BD%E5%AE%B6%E8%B6%85%E7%BA%A7%E7%94%B5%E8%84%91%E5%BA%94%E7%94%A8%E4%B8%AD%E5%BF%83"><span style="line-height: 115%; font-family: '微软雅黑',sans-serif; background: white; color: #0b0080; font-size: 10.5pt; mso-ascii-font-family: arial; mso-hansi-font-family: arial; mso-bidi-font-family: arial" lang="EN-US"><span lang="EN-US">国家超级电脑应用中心</span></span></a></span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">（</span><span style="background: white; color: #252525; mso-ansi-language: en" lang="EN">NCSA</span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">）为</span><span style="background: white; color: #252525" lang="EN-US">&nbsp;</span><span style="line-height: 115%; font-family: 'Arial',sans-serif; background: white; font-size: 10.5pt" lang="EN-US">NCSA HTTPd</span><span style="background: white; color: #252525" lang="EN-US"> Web </span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">服务器开发的。这个</span><span style="background: white; color: #252525" lang="EN-US"> Web </span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">服务器使用了</span><span style="background: white; color: #252525" lang="EN-US"> UNIX </span><span lang="EN-US"><a title="Shell" href="http://zh.wikipedia.org/wiki/Shell"><span style="line-height: 115%; font-family: 'Arial',sans-serif; background: white; color: #0b0080; font-size: 10.5pt">shell</span></a><span style="background: white; color: #252525">&nbsp;</span><a title="环境变量" href="http://zh.wikipedia.org/wiki/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span style="line-height: 115%; font-family: '微软雅黑',sans-serif; background: white; color: #0b0080; font-size: 10.5pt; mso-ascii-font-family: arial; mso-hansi-font-family: arial; mso-bidi-font-family: arial" lang="EN-US"><span lang="EN-US">环境变量</span></span></a><span style="background: white; color: #252525">&nbsp;</span></span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">来保存从</span><span style="background: white; color: #252525" lang="EN-US"> Web </span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">服务器传递出去的参数，然后生成一个运行</span><span style="background: white; color: #252525" lang="EN-US"> CGI </span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">的独立的</span><span lang="EN-US"><a title="进程" href="http://zh.wikipedia.org/wiki/%E8%BF%9B%E7%A8%8B"><span style="line-height: 115%; font-family: '微软雅黑',sans-serif; background: white; color: #0b0080; font-size: 10.5pt; mso-ascii-font-family: arial; mso-hansi-font-family: arial; mso-bidi-font-family: arial" lang="EN-US"><span lang="EN-US">进程</span></span></a></span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">。</span><span style="background: white; color: #252525" lang="EN-US">cgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #252525; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">的处理流程如下图所示：</span><span style="background: white; color: #252525" lang="EN-US"><o:p></o:p></span></p> <p style="text-align: center" class="MsoNormal" align="center"><span lang="EN-US"><a href="http://images.cnitblog.com/blog/92071/201412/191104423764361.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image002" alt="clip_image002" src="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/191104434855332.png" v:shapes="_x0000_i1025" border="0" width="576" height="572"></a></span><span style="line-height: 115%; font-family: consolas; font-size: 9pt" lang="EN-US"><o:p></o:p></span></p> <p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l1 level1 lfo1" class="MsoListParagraph"><span style="line-height: 115%; font-family: wingdings; font-size: 9pt; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp;&nbsp; </span></span></span><span style="line-height: 115%; font-family: consolas; font-size: 9pt" lang="EN-US">step1. </span><span style="background: white" lang="EN-US">web </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">服务器收到客户端（浏览器）的请求</span><span style="background: white" lang="EN-US">Http Request</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">，启动</span><span style="background: white" lang="EN-US">CGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">程序，并通过<b style="mso-bidi-font-weight: normal">环境变量</b>、<b style="mso-bidi-font-weight: normal">标准输入</b>传递数据</span><span style="line-height: 115%; font-family: consolas; font-size: 9pt" lang="EN-US"><o:p></o:p></span></p> <p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l1 level1 lfo1" class="MsoListParagraph"><span style="line-height: 115%; font-family: wingdings; font-size: 9pt; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp;&nbsp; </span></span></span><span style="background: white" lang="EN-US">step2. cgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">进程启动解析器、加载配置（如业务相关配置）、连接其它服务器（如数据库服务器）、逻辑处理等</span><span style="line-height: 115%; font-family: consolas; font-size: 9pt" lang="EN-US"><o:p></o:p></span></p> <p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l1 level1 lfo1" class="MsoListParagraph"><span style="line-height: 115%; font-family: wingdings; font-size: 9pt; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp;&nbsp; </span></span></span><span style="background: white" lang="EN-US">step3. cgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">程将处理结果通过<b style="mso-bidi-font-weight: normal">标准输出</b>、<b style="mso-bidi-font-weight: normal">标准错误</b>，传递给</span><span style="background: white" lang="EN-US">web </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">服务器</span><span style="line-height: 115%; font-family: consolas; font-size: 9pt" lang="EN-US"><o:p></o:p></span></p> <p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l1 level1 lfo1" class="MsoListParagraph"><span style="line-height: 115%; font-family: wingdings; font-size: 9pt; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp;&nbsp; </span></span></span><span style="background: white" lang="EN-US">step4. web </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">服务器收到</span><span style="background: white" lang="EN-US">cgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">返回的结果，构建</span><span style="background: white" lang="EN-US">Http Response</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">返回给客户端，并杀死</span><span style="background: white" lang="EN-US">cgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">进程</span><span style="line-height: 115%; font-family: consolas; font-size: 9pt" lang="EN-US"><o:p></o:p></span></p> <p class="MsoNormal"><span lang="EN-US">web</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">服务器与</span><span lang="EN-US">cgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">通过环境变量、标准输入、标准输出、标准错误互相传递数据。</span><span lang="EN-US"><o:p></o:p></span></p> <h2><span lang="EN-US">1.1.</span><span style="font-family: 宋体; mso-ascii-font-family: 'Calibri Light'; mso-ascii-theme-font: major-latin; mso-hansi-font-family: 'Calibri Light'; mso-hansi-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast">环境变量</span><span style="font-family: consolas; color: black; font-size: 9pt" lang="EN-US"><o:p></o:p></span></h2> <p class="MsoNormal"><span style="background: white" lang="EN-US">GET</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">请求，它将数据打包放置在环境变量</span><span style="background: white" lang="EN-US">QUERY_STRING</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">中，</span><span style="background: white" lang="EN-US">CGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">从环境变量</span><span style="background: white" lang="EN-US">QUERY_STRING</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">中获取数据。常见的环境变量如下表所示：</span><span style="line-height: 115%; font-family: '微软雅黑',sans-serif; color: black; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p> <div align="center"> <table style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128; mso-yfti-tbllook: 1184; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt" class="MsoTable15Plain2" border="1" cellpadding="0" cellspacing="0"> <tbody> <tr style="height: 5.65pt; mso-yfti-irow: -1; mso-yfti-firstrow: yes; mso-yfti-lastfirstrow: yes"> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; width: 127.6pt; padding-right: 5.4pt; height: 5.65pt; border-top: #7f7f7f 1pt solid; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top" width="170"> <p style="line-height: normal; margin: 7.5pt 0cm; mso-yfti-cnfc: 5" class="MsoNormal"><b><span style="font-family: '微软雅黑',sans-serif; font-size: 9pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">环境变数</span></b><b><span style="font-family: 'Simsun',serif; font-size: 9pt; mso-fareast-font-family: 宋体" lang="EN-US"><o:p></o:p></span></b></p></td> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; width: 287.7pt; padding-right: 5.4pt; height: 5.65pt; border-top: #7f7f7f 1pt solid; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top" width="384"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 1" class="MsoNormal"><b><span style="font-family: '微软雅黑',sans-serif; font-size: 9pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">内容</span></b><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US"><o:p></o:p></span></b></p></td></tr> <tr style="height: 18.75pt; mso-yfti-irow: 0"> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: medium none; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 68" class="MsoNormal"><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US">AUTH_TYPE<o:p></o:p></span></b></p></td> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: medium none; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 64" class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">存取认证类型。</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p></td></tr> <tr style="height: 16.5pt; mso-yfti-irow: 1"> <td style="border-bottom: medium none; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 16.5pt; border-top: medium none; border-right: medium none; padding-top: 0cm" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 4" class="MsoNormal"><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US">CONTENT_LENGTH<o:p></o:p></span></b></p></td> <td style="border-bottom: medium none; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 16.5pt; border-top: medium none; border-right: medium none; padding-top: 0cm" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all" class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">由标准输入传递给</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">CGI</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">程序的数据长度，以</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">bytes</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">或字元数来计算。</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p></td></tr> <tr style="height: 18.75pt; mso-yfti-irow: 2"> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: #7f7f7f 1pt solid; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 68" class="MsoNormal"><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US">CONTENT_TYPE<o:p></o:p></span></b></p></td> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: #7f7f7f 1pt solid; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 64" class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">请求的</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">MIME</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">类型。</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p></td></tr> <tr style="height: 18.75pt; mso-yfti-irow: 3"> <td style="border-bottom: medium none; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: medium none; border-right: medium none; padding-top: 0cm" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 4" class="MsoNormal"><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US">GATEWAY_INTERFACE<o:p></o:p></span></b></p></td> <td style="border-bottom: medium none; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: medium none; border-right: medium none; padding-top: 0cm" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all" class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">服务器的</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">CGI</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">版本编号。</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p></td></tr> <tr style="height: 18.75pt; mso-yfti-irow: 4"> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: #7f7f7f 1pt solid; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 68" class="MsoNormal"><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US">HTTP_ACCEPT<o:p></o:p></span></b></p></td> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: #7f7f7f 1pt solid; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 64" class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">浏览器能直接接收的</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">Content-types, </span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">可以有</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">HTTP Accept header</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">定义</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">.<o:p></o:p></span></p></td></tr> <tr style="height: 18.75pt; mso-yfti-irow: 5"> <td style="border-bottom: medium none; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: medium none; border-right: medium none; padding-top: 0cm" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 4" class="MsoNormal"><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US">HTTP_USER_AGENT<o:p></o:p></span></b></p></td> <td style="border-bottom: medium none; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: medium none; border-right: medium none; padding-top: 0cm" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all" class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">递交表单的浏览器的名称、版本</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt"> </span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">和其他平台性的附加信息。</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p></td></tr> <tr style="height: 18.75pt; mso-yfti-irow: 6"> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: #7f7f7f 1pt solid; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 68" class="MsoNormal"><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US">HTTP_REFERER<o:p></o:p></span></b></p></td> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: #7f7f7f 1pt solid; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 64" class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">递交表单的文本的</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US"> URL</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">，不是所有的浏览器都发出这个信息，不要依赖它</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p></td></tr> <tr style="height: 18.75pt; mso-yfti-irow: 7"> <td style="border-bottom: medium none; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: medium none; border-right: medium none; padding-top: 0cm" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 4" class="MsoNormal"><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US">PATH_INFO<o:p></o:p></span></b></p></td> <td style="border-bottom: medium none; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: medium none; border-right: medium none; padding-top: 0cm" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all" class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">传递给</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">cgi</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">程式的路径信息。</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p></td></tr> <tr style="height: 18.75pt; mso-yfti-irow: 8"> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: #7f7f7f 1pt solid; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 68" class="MsoNormal"><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US">QUERY_STRING<o:p></o:p></span></b></p></td> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: #7f7f7f 1pt solid; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 64" class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">传递给</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">CGI</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">程式的请求参数，也就是用</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">"?"</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">隔开，添加在</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">URL</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">后面的字串。</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p></td></tr> <tr style="height: 18.75pt; mso-yfti-irow: 9"> <td style="border-bottom: medium none; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: medium none; border-right: medium none; padding-top: 0cm" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 4" class="MsoNormal"><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US">REMOTE_ADDR<o:p></o:p></span></b></p></td> <td style="border-bottom: medium none; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: medium none; border-right: medium none; padding-top: 0cm" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all" class="MsoNormal"><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">client</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">端的</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">host</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">名称。</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p></td></tr> <tr style="height: 18.75pt; mso-yfti-irow: 10"> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: #7f7f7f 1pt solid; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 68" class="MsoNormal"><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US">REMOTE_HOST<o:p></o:p></span></b></p></td> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: #7f7f7f 1pt solid; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 64" class="MsoNormal"><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">client</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">端的</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">IP</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">位址。</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p></td></tr> <tr style="height: 18.75pt; mso-yfti-irow: 11"> <td style="border-bottom: medium none; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: medium none; border-right: medium none; padding-top: 0cm" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 4" class="MsoNormal"><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US">REMOTE_USER<o:p></o:p></span></b></p></td> <td style="border-bottom: medium none; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: medium none; border-right: medium none; padding-top: 0cm" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all" class="MsoNormal"><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">client</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">端送出来的使用者名称。</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p></td></tr> <tr style="height: 18.75pt; mso-yfti-irow: 12"> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: #7f7f7f 1pt solid; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 68" class="MsoNormal"><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US">REMOTE_METHOD<o:p></o:p></span></b></p></td> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: #7f7f7f 1pt solid; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 64" class="MsoNormal"><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">client</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">端发出请求的方法（如</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">get</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">、</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">post</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">）。</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p></td></tr> <tr style="height: 18.75pt; mso-yfti-irow: 13"> <td style="border-bottom: medium none; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: medium none; border-right: medium none; padding-top: 0cm" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 4" class="MsoNormal"><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US">SCRIPT_NAME<o:p></o:p></span></b></p></td> <td style="border-bottom: medium none; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: medium none; border-right: medium none; padding-top: 0cm" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all" class="MsoNormal"><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">CGI</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">程式所在的虚拟路径，如</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">/cgi-bin/echo</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">。</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p></td></tr> <tr style="height: 18.75pt; mso-yfti-irow: 14"> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: #7f7f7f 1pt solid; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 68" class="MsoNormal"><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US">SERVER_NAME<o:p></o:p></span></b></p></td> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: #7f7f7f 1pt solid; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 64" class="MsoNormal"><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">server</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">的</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">host</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">名称或</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">IP</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">地址。</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p></td></tr> <tr style="height: 22.5pt; mso-yfti-irow: 15"> <td style="border-bottom: medium none; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 22.5pt; border-top: medium none; border-right: medium none; padding-top: 0cm" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 4" class="MsoNormal"><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US">SERVER_PORT<o:p></o:p></span></b></p></td> <td style="border-bottom: medium none; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 22.5pt; border-top: medium none; border-right: medium none; padding-top: 0cm" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all" class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">收到</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">request</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">的</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">server</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">端口。</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p></td></tr> <tr style="height: 18.75pt; mso-yfti-irow: 16"> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: #7f7f7f 1pt solid; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 68" class="MsoNormal"><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US">SERVER_PROTOCOL<o:p></o:p></span></b></p></td> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: #7f7f7f 1pt solid; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-top-alt: solid #7f7f7f .5pt; mso-border-top-themecolor: text1; mso-border-top-themetint: 128; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 64" class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">所使用的通讯协定和版本编号。</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p></td></tr> <tr style="height: 18.75pt; mso-yfti-irow: 17; mso-yfti-lastrow: yes"> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: medium none; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all; mso-yfti-cnfc: 4" class="MsoNormal"><b><span style="font-family: 'Simsun',serif; font-size: 9pt" lang="EN-US">SERVER_SOFTWARE<o:p></o:p></span></b></p></td> <td style="border-bottom: #7f7f7f 1pt solid; border-left: medium none; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: medium none; border-right: medium none; padding-top: 0cm; mso-border-bottom-themecolor: text1; mso-border-bottom-alt: solid #7f7f7f .5pt; mso-border-bottom-themetint: 128" valign="top"> <p style="line-height: normal; margin: 7.5pt 0cm; word-break: break-all" class="MsoNormal"><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US">server</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">程序的名称和版本。</span><span style="font-family: 'Simsun',serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p></td></tr></tbody></table></div> <h2><span lang="EN-US">1.2.</span><span style="font-family: 宋体; mso-ascii-font-family: 'Calibri Light'; mso-ascii-theme-font: major-latin; mso-hansi-font-family: 'Calibri Light'; mso-hansi-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast">标准输入</span><span style="font-family: consolas; color: black; font-size: 9pt" lang="EN-US"><o:p></o:p></span></h2><pre style="background: white"><span style="background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun; mso-bidi-font-family: arial">环境变量的大小是有一定的限制的，当需要传送的数据量大时，储存环境变量的空间可能会不足，造成数据接收不完全，甚至无法执行</span><span style="font-family: 'Simsun',serif; background: white; color: black; font-size: 13.5pt; mso-bidi-font-family: arial" lang="EN-US">CGI</span><span style="background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun; mso-bidi-font-family: arial">程序。因此后来又发展出另外一种方法：</span><span style="font-family: 'Simsun',serif; background: white; color: black; font-size: 13.5pt; mso-bidi-font-family: arial" lang="EN-US">POST</span><span style="background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun; mso-bidi-font-family: arial">，也就是利用</span><span style="font-family: 'Simsun',serif; background: white; color: black; font-size: 13.5pt; mso-bidi-font-family: arial" lang="EN-US">I/O</span><span style="background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun; mso-bidi-font-family: arial">重新导向的技巧，让</span><span style="font-family: 'Simsun',serif; background: white; color: black; font-size: 13.5pt; mso-bidi-font-family: arial" lang="EN-US">CGI</span><span style="background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun; mso-bidi-font-family: arial">程序可以由</span><span style="font-family: 'Simsun',serif; background: white; color: black; font-size: 13.5pt; mso-bidi-font-family: arial" lang="EN-US">STDIN</span><span style="background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun; mso-bidi-font-family: arial">和</span><span style="font-family: 'Simsun',serif; background: white; color: black; font-size: 13.5pt; mso-bidi-font-family: arial" lang="EN-US">STDOUT</span><span style="background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun; mso-bidi-font-family: arial">直接跟浏览器沟通。</span><span style="font-family: consolas; color: #333333; font-size: 9pt" lang="EN-US"><o:p></o:p></span></pre><pre style="background: white"><span style="background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun; mso-bidi-font-family: arial">当我们指定用这种方法传递请求的数据时，</span><span style="font-family: 'Simsun',serif; background: white; color: black; font-size: 13.5pt; mso-bidi-font-family: arial" lang="EN-US">web </span><span style="background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun; mso-bidi-font-family: arial">服务器收到数据后会先放在一块输入缓冲区中，并且将数据的大小记录在</span><span style="font-family: 'Simsun',serif; background: white; color: black; font-size: 13.5pt; mso-bidi-font-family: arial" lang="EN-US">CONTENT_LENGTH</span><span style="background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun; mso-bidi-font-family: arial">这个环境变数，然后调用</span><span style="font-family: 'Simsun',serif; background: white; color: black; font-size: 13.5pt; mso-bidi-font-family: arial" lang="EN-US">CGI</span><span style="background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun; mso-bidi-font-family: arial">程式并将</span><span style="font-family: 'Simsun',serif; background: white; color: black; font-size: 13.5pt; mso-bidi-font-family: arial" lang="EN-US">CGI</span><span style="background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun; mso-bidi-font-family: arial">程序的</span><span style="font-family: 'Simsun',serif; background: white; color: black; font-size: 13.5pt; mso-bidi-font-family: arial" lang="EN-US">STDIN</span><span style="background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun; mso-bidi-font-family: arial">指向这块缓冲区，于是我们就可以很顺利的通过</span><span style="font-family: 'Simsun',serif; background: white; color: black; font-size: 13.5pt; mso-bidi-font-family: arial" lang="EN-US">STDIN</span><span style="background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun; mso-bidi-font-family: arial">和环境变数</span><span style="font-family: 'Simsun',serif; background: white; color: black; font-size: 13.5pt; mso-bidi-font-family: arial" lang="EN-US">CONTENT_LENGTH</span><span style="background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun; mso-bidi-font-family: arial">得到所有的资料，再没有资料大小的限制了。</span><span style="font-family: 'Simsun',serif; background: white; color: black; font-size: 13.5pt; mso-bidi-font-family: arial" lang="EN-US"><o:p></o:p></span></pre><pre style="background: white"><span style="font-family: 'Arial',sans-serif; background: white; color: #252525; font-size: 10.5pt" lang="EN-US"><o:p>&nbsp;</o:p></span></pre>
<p class="MsoNormal"><b><span style="line-height: 115%; font-family: '微软雅黑',sans-serif; background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: simsun; mso-hansi-font-family: simsun">总结：</span></b><span style="background: white" lang="EN-US">CGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">使外部程序与</span><span style="background: white" lang="EN-US">Web</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">服务器之间交互成为可能。</span><span style="background: white" lang="EN-US">CGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">程式运行在独立的进程中，并对每个</span><span style="background: white" lang="EN-US">Web</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">请求建立一个进程，这种方法非常容易实现，但效率很差，难以扩展。面对大量请求，进程的大量建立和消亡使操作系统性能大大下降。此外，由于地址空间无法共享，也限制了资源重用。</span><span style="line-height: 115%; font-family: consolas; color: #333333; font-size: 9pt" lang="EN-US"><o:p></o:p></span></p>
<div style="border-bottom: #ed7d31 1pt solid; border-left: medium none; padding-bottom: 2pt; padding-left: 0cm; padding-right: 0cm; border-top: medium none; border-right: medium none; padding-top: 0cm; mso-element: para-border-div; mso-border-bottom-themecolor: accent2; mso-border-bottom-alt: solid #ed7d31 .5pt">
<h1><span lang="EN-US">2.</span><span style="background: white" lang="EN-US">FastCGI<o:p></o:p></span></h1></div>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">快速通用网关接口（</span><span lang="EN-US">Fast Common Gateway Interface</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">／</span><span lang="EN-US">FastCGI</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">）是</span><span lang="EN-US"><a title="通用网关接口" href="http://zh.wikipedia.org/wiki/%E9%80%9A%E7%94%A8%E7%BD%91%E5%85%B3%E6%8E%A5%E5%8F%A3"><span style="font-family: '微软雅黑',sans-serif; color: windowtext; text-decoration: none; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin; text-underline: none" lang="EN-US"><span lang="EN-US">通用网关接口</span></span></a></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">（</span><span lang="EN-US">CGI</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">）的改进，描述了客户端和服务器程序之间传输数据的一种标准。</span><span lang="EN-US">F<b style="mso-bidi-font-weight: normal">astCGI</b></span><b style="mso-bidi-font-weight: normal"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">致力于减少</span></b><span lang="EN-US"><a title="网页服务器" href="http://zh.wikipedia.org/wiki/%E7%B6%B2%E9%A0%81%E4%BC%BA%E6%9C%8D%E5%99%A8"><b style="mso-bidi-font-weight: normal"><span style="color: windowtext; text-decoration: none; text-underline: none">Web</span></b><b style="mso-bidi-font-weight: normal"><span style="font-family: '微软雅黑',sans-serif; color: windowtext; text-decoration: none; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin; text-underline: none" lang="EN-US"><span lang="EN-US">服务器</span></span></b></a></span><b style="mso-bidi-font-weight: normal"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">与</span></b><span lang="EN-US"><a title="CGI" href="http://zh.wikipedia.org/wiki/CGI"><b style="mso-bidi-font-weight: normal"><span style="color: windowtext; text-decoration: none; text-underline: none">CGI</span></b></a><a title="程式" href="http://zh.wikipedia.org/wiki/%E7%A8%8B%E5%BC%8F"><b style="mso-bidi-font-weight: normal"><span style="font-family: '微软雅黑',sans-serif; color: windowtext; text-decoration: none; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin; text-underline: none" lang="EN-US"><span lang="EN-US">程式</span></span></b></a></span><b style="mso-bidi-font-weight: normal"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">之间互动的开销，从而使</span></b><span lang="EN-US"><a title="服务器" href="http://zh.wikipedia.org/wiki/%E4%BC%BA%E6%9C%8D%E5%99%A8"><b style="mso-bidi-font-weight: normal"><span style="font-family: '微软雅黑',sans-serif; color: windowtext; text-decoration: none; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin; text-underline: none" lang="EN-US"><span lang="EN-US">服务器</span></span></b></a></span><b style="mso-bidi-font-weight: normal"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">可以同时处理更多的</span><span lang="EN-US">Web</span></b><b style="mso-bidi-font-weight: normal"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">请求</span></b><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">。与为每个请求创建一个新的进程不同，</span><span lang="EN-US">FastCGI</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">使用持续的进程来处理一连串的请求。这些进程由</span><span lang="EN-US">FastCGI</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">进程管理器管理，而不是</span><span lang="EN-US">web</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">服务器。</span><span lang="EN-US">(<a href="http://www.dwz.cn/yFMap">http://www.dwz.cn/yFMap</a>) <o:p></o:p></span></p>
<p style="text-align: center" class="MsoNormal" align="center"><span lang="EN-US"><a href="http://images.cnitblog.com/blog/92071/201412/191104447663291.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image004" alt="clip_image004" src="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/191104459072505.png" v:shapes="_x0000_i1026" border="0" width="523" height="517"></a></span><span style="line-height: 115%; font-family: 'Arial',sans-serif; color: #252525; font-size: 10.5pt; mso-fareast-font-family: 宋体" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">当进来一个请求时，</span><span style="background: white" lang="EN-US">Web </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">服务器把环境变量和这个页面请求通过一个</span><span style="background: white" lang="EN-US">unix domain socket(</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">都位于同一物理服务器）或者一个</span><span style="background: white" lang="EN-US">IP Socket</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">（</span><span style="background: white" lang="EN-US">FastCGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">部署在其它物理服务器）传递给</span><span style="background: white" lang="EN-US">FastCGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">进程。</span><span style="background: white" lang="EN-US"><o:p></o:p></span></p>
<p style="text-align: center" class="MsoNormal" align="center"><span lang="EN-US"><a href="http://images.cnitblog.com/blog/92071/201412/191104473136735.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image006" alt="clip_image006" src="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/191104485636450.png" v:shapes="_x0000_i1027" border="0" width="569" height="650"></a><o:p></o:p></span></p>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l5 level1 lfo3" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span style="background: white" lang="EN-US">step1. Web </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">服务器启动时载入初始化</span><span style="background: white" lang="EN-US">FastCGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">执行环境</span><span style="background: white" lang="EN-US">&nbsp;</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">。</span><span style="background: white" lang="EN-US">&nbsp;</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">例如</span><span style="background: white" lang="EN-US">IIS ISAPI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">、</span><span style="background: white" lang="EN-US">apache mod_fastcgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">、</span><span style="background: white" lang="EN-US">nginx ngx_http_fastcgi_module</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">、</span><span style="background: white" lang="EN-US">lighttpd mod_fastcgi<o:p></o:p></span></p>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo2" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">step2. FastCGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">进程管理器自身初始化，启动多个</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">CGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">解释器进程并等待来自</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">Web </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">服务器的连接。启动</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">FastCGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">进程时，可以配置以</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">ip</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">和</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">UNIX </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">域</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">socket</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">两种方式启动。</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">&nbsp;</span><span style="background: white" lang="EN-US"><o:p></o:p></span></p>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo2" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">step3. </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">当客户端请求到达</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">Web </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">服务器时，</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US"> Web </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">服务器将请求采用</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">socket</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">方式转发到</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US"> FastCGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">主进程，</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">FastCGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">主进程选择并连接到一个</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">CGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">解释器。</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">Web </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">服务器将</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">CGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">环境变量和标准输入发送到</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">FastCGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">子进程。</span><span style="background: white" lang="EN-US"><o:p></o:p></span></p>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo2" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">step4. FastCGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">子进程完成处理后将标准输出和错误信息从同一</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">socket</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">连接返回</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">Web </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">服务器。当</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">FastCGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">子进程关闭连接时，请求便处理完成。</span><span style="background: white" lang="EN-US"><o:p></o:p></span></p>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l0 level1 lfo2" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">step5. FastCGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">子进程接着等待并处理来自</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">Web </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">服务器的下一个连接。</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica"> </span><span style="background: white" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">由于</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US"> FastCGI </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">程序并不需要不断的产生新进程，可以大大降低服务器的压力并且产生较高的应用效率。它的速度效率最少要比</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">CGI </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">技术提高</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US"> 5 </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">倍以上。它还支持分布式的部署，</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica"> </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">即</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US"> FastCGI </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">程序可以在</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">web </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">服务器以外的主机上执行。</span><span style="background: white" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><b style="mso-bidi-font-weight: normal"><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">总结：</span></b><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">CGI </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">就是所谓的短生存期应用程序，</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">FastCGI </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">就是所谓的长生存期应用程序。</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">FastCGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">像是一个常驻</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">(long-live)</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">型的</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">CGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">，它可以一直执行着，不会每次都要花费时间去</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">fork</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">一次</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">(</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">这是</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">CGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">最为人诟病的</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">fork-and-execute </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">模式</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US">)</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: helvetica; mso-hansi-font-family: helvetica; mso-bidi-font-family: helvetica">。</span><span style="font-family: 'Helvetica',sans-serif; background: white; mso-bidi-font-family: helvetica" lang="EN-US"><o:p></o:p></span></p>
<div style="border-bottom: #ed7d31 1pt solid; border-left: medium none; padding-bottom: 2pt; padding-left: 0cm; padding-right: 0cm; border-top: medium none; border-right: medium none; padding-top: 0cm; mso-element: para-border-div; mso-border-bottom-themecolor: accent2; mso-border-bottom-alt: solid #ed7d31 .5pt">
<h1><span lang="EN-US">3.</span><span lang="EN-US">nginx cgi/fastcgi</span><span style="font-size: 9pt" lang="EN-US"><o:p></o:p></span></h1></div>
<p class="MsoNormal"><span style="background: white" lang="EN-US">nginx </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">不能像</span><span style="background: white" lang="EN-US">apache</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">那样直接执行外部可执行程序，但</span><span style="background: white" lang="EN-US">nginx</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">可以作为代理服务器，将请求转发给后端服务器，这也是</span><span style="background: white" lang="EN-US">nginx</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">的主要作用之一。其中</span><span style="background: white" lang="EN-US">nginx</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">就支持</span><span style="background: white" lang="EN-US">FastCGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">代理，接收客户端的请求，然后将请求转发给后端</span><span style="background: white" lang="EN-US">fastcgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">进程。</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">下面介绍如何使用</span><span lang="EN-US">C/C++</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">编写</span><span lang="EN-US">cgi/fastcgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">，并部署到</span><span lang="EN-US">nginx</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">中。</span><span lang="EN-US"><o:p></o:p></span></p>
<h2><span lang="EN-US">3.1. </span><span lang="EN-US">nginx + fastcgi<o:p></o:p></span></h2>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">通过前面的介绍知道，</span><span lang="EN-US">fastcgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">进程由</span><span lang="EN-US">FastCGI</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">进程管理器管理，而不是</span><span lang="EN-US">nginx</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">。这样就需要一个</span><span lang="EN-US">FastCGI</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">管理，管理我们编写</span><span lang="EN-US">fastcgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">程序。本文使用</span><span lang="EN-US">spawn-fcgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">作为</span><span lang="EN-US">FastCGI</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">进程管理器。</span><span lang="EN-US"><o:p></o:p></span></p>
<h3><span lang="EN-US">3.1.1. </span><span lang="EN-US">spawn-fcgi<o:p></o:p></span></h3>
<p class="MsoNormal"><span lang="EN-US">spawn-fcgi</span><span style="line-height: 115%; font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">是一个通用的</span><span lang="EN-US">FastCGI</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">进程</span><span style="line-height: 115%; font-family: '微软雅黑',sans-serif; font-size: 10.5pt; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">管理器，</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">简单小巧，原先是属于</span><span lang="EN-US">lighttpd</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">的一部分，后来由于使用比较广泛，所以就迁移出来作为独立项目了。</span><span lang="EN-US">spawn-fcgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">使用</span><span lang="EN-US">pre-fork </span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">模型，功能主要是打开监听端口，绑定地址，然后</span><span lang="EN-US">fork-and-exec</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">创建我们编写的</span><span lang="EN-US">fastcgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">应用程序进程，退出完成工作。</span><span lang="EN-US">fastcgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">应用程序初始化，然后进入死循环侦听</span><span lang="EN-US">socket</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">的连接请求。</span><span lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">安装</span><span lang="EN-US">spawn-fcgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">：</span><span lang="EN-US"><o:p></o:p></span></p>
<p style="text-indent: -18.75pt; margin-left: 18.75pt; mso-char-indent-count: 0; mso-list: l3 level1 lfo6" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">获取</span><span lang="EN-US">spawn-fcgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">编译安装包，在</span><span lang="EN-US"><a href="http://redmine.lighttpd.net/projects/spawn-fcgi/wiki"><span style="line-height: 115%; font-family: consolas; font-size: 11.5pt">http://redmine.lighttpd.net/projects/spawn-fcgi/wiki</span></a></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">上可以获取当前最新的版本。</span><span lang="EN-US"><o:p></o:p></span></p>
<p style="text-indent: -18.75pt; margin-left: 18.75pt; mso-char-indent-count: 0; mso-list: l3 level1 lfo6" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">解压缩</span><span lang="EN-US">spawn-fcgi-x.x.x.tar.gz</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">包。</span><span lang="EN-US"><o:p></o:p></span></p>
<p style="text-indent: -18.75pt; margin-left: 18.75pt; mso-char-indent-count: 0; mso-list: l3 level1 lfo6" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">进入解压缩目录，执行</span><span lang="EN-US">./configure</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">。</span><span lang="EN-US"><o:p></o:p></span></p>
<p style="text-indent: -18.75pt; margin-left: 18.75pt; mso-char-indent-count: 0; mso-list: l3 level1 lfo6" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span lang="EN-US">make &amp; make install<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">如果遇到以下错误：“</span><span style="background: white" lang="EN-US"> ./autogen.sh: x: autoreconf: not found</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">”，因为没有安装</span><span style="background: white" lang="EN-US">automake </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">工具，</span><span style="background: white" lang="EN-US">ubuntu</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">用下面的命令安装好就可以了：</span><span style="background: white" lang="EN-US">sudo apt-get install autoconf automake libtool </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">。</span><span style="background: white" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; background: white" lang="EN-US">spawn-fcgi</span><span style="font-family: '微软雅黑',sans-serif; background: white">的帮助信息可以通过<span lang="EN-US">man spawn-fcgi</span>或<span lang="EN-US">spawn-fcgi </span>–<span lang="EN-US">h</span>获得，下面是部分常用<span lang="EN-US">spawn-fcgi</span>参数信息：<span lang="EN-US"><o:p></o:p></span></span></p>
<table style="border-bottom: medium none; border-left: medium none; width: 100%; border-collapse: collapse; border-top: medium none; border-right: medium none; mso-yfti-tbllook: 1184; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt; mso-border-alt: solid #bfbfbf .5pt; mso-border-themecolor: background1; mso-border-themeshade: 191" class="MsoTableGridLight" border="1" cellpadding="0" width="100%" cellspacing="0">
<tbody>
<tr style="height: 18.75pt; mso-yfti-irow: 0; mso-yfti-firstrow: yes; mso-yfti-lastrow: yes">
<td style="border-bottom: #bfbfbf 1pt solid; border-left: #bfbfbf 1pt solid; padding-bottom: 0cm; padding-left: 5.4pt; padding-right: 5.4pt; height: 18.75pt; border-top: #bfbfbf 1pt solid; border-right: #bfbfbf 1pt solid; padding-top: 0cm; mso-border-alt: solid #bfbfbf .5pt; mso-border-themecolor: background1; mso-border-themeshade: 191" valign="top">
<p style="margin: 3.75pt 0cm; word-break: break-all"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt" lang="EN-US">-f &lt;fcgiapp&gt;<span class="apple-converted-space">&nbsp;</span></span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt">指定调用<span lang="EN-US">FastCGI</span>的进程的执行程序位置<span lang="EN-US"><o:p></o:p></span></span></p>
<p style="margin: 3.75pt 0cm; word-break: break-all"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt" lang="EN-US">-a &lt;addr&gt;<span class="apple-converted-space">&nbsp;</span></span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt">绑定到地址<span lang="EN-US">addr</span>。<span lang="EN-US"><o:p></o:p></span></span></p>
<p style="margin: 3.75pt 0cm; word-break: break-all"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt" lang="EN-US">-p &lt;port&gt;<span class="apple-converted-space">&nbsp;</span></span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt">绑定到端口<span lang="EN-US">port</span>。<span lang="EN-US"><o:p></o:p></span></span></p>
<p style="margin: 3.75pt 0cm; word-break: break-all"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt" lang="EN-US">-s &lt;path&gt;<span class="apple-converted-space">&nbsp;</span></span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt">绑定到<span lang="EN-US">unix domain socket<o:p></o:p></span></span></p>
<p style="margin: 3.75pt 0cm; word-break: break-all"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt" lang="EN-US">-C &lt;childs&gt;<span class="apple-converted-space">&nbsp;</span></span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt">指定产生的<span lang="EN-US">FastCGI</span>的进程数，默认为<span lang="EN-US">5</span>。（仅用于<span lang="EN-US">PHP</span>）<span lang="EN-US"><o:p></o:p></span></span></p>
<p style="margin: 3.75pt 0cm; word-break: break-all"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt" lang="EN-US">-P &lt;path&gt;<span class="apple-converted-space">&nbsp;</span></span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt">指定产生的进程的<span lang="EN-US">PID</span>文件路径。<span lang="EN-US"><o:p></o:p></span></span></p>
<p style="margin: 3.75pt 0cm; word-break: break-all"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt" lang="EN-US">-F &lt;childs&gt;<span class="apple-converted-space">&nbsp;</span></span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt">指定产生的<span lang="EN-US">FastCGI</span>的进程数（<span lang="EN-US">C</span>的<span lang="EN-US">CGI</span>用这个）<span lang="EN-US"><o:p></o:p></span></span></p>
<p style="margin: 3.75pt 0cm; word-break: break-all"><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt" lang="EN-US">-u</span><span style="font-family: '微软雅黑',sans-serif; font-size: 10.5pt">和<span lang="EN-US">-g FastCGI</span>使用什么身份（<span lang="EN-US">-u<span class="apple-converted-space">&nbsp;</span></span>用户<span class="apple-converted-space"><span lang="EN-US">&nbsp;</span></span><span lang="EN-US">-g<span class="apple-converted-space">&nbsp;</span></span>用户组）运行，<span lang="EN-US">CentOS</span>下可以使用<span lang="EN-US">apache</span>用户，其他的根据情况配置，如<span lang="EN-US">nobody</span>、<span lang="EN-US">www-data</span>等。</span><span style="font-family: '微软雅黑',sans-serif" lang="EN-US"><o:p></o:p></span></p></td></tr></tbody></table>
<h3><span lang="EN-US">3.1.2. </span><span style="font-family: 宋体; mso-ascii-font-family: 'Calibri Light'; mso-ascii-theme-font: major-latin; mso-hansi-font-family: 'Calibri Light'; mso-hansi-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast">编写</span><span lang="EN-US">fastcgi</span><span style="font-family: 宋体; mso-ascii-font-family: 'Calibri Light'; mso-ascii-theme-font: major-latin; mso-hansi-font-family: 'Calibri Light'; mso-hansi-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast">应用程序</span><span lang="EN-US"><o:p></o:p></span></h3>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">使用</span><span lang="EN-US">C/C++</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">编写</span><span lang="EN-US">fastcgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">应用程序，可以使用</span><span lang="EN-US">FastCGI</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">软件开发套件或者其它开发框架，如</span><span lang="EN-US">fastcgi++</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">。</span><span style="line-height: 115%; background: white; color: black; font-size: 10.5pt; mso-bidi-font-family: arial" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">本文使用</span><span style="background: white" lang="EN-US">FastCGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">软件开发套件</span><span style="background: white" lang="EN-US">——fcgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">（</span><span lang="EN-US"><a href="http://www.fastcgi.com/drupal/node/6?q=node/21"><span style="line-height: 115%; font-family: 'Arial',sans-serif; background: white; mso-bidi-font-size: 12.0pt">http://www.fastcgi.com/drupal/node/6?q=node/21</span></a></span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">），通过此套件可以轻松编写</span><span style="background: white" lang="EN-US">fastcgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">应用程序，安装</span><span style="background: white" lang="EN-US">fcgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">：</span><span style="line-height: 115%; font-family: 'Arial',sans-serif; background: white; color: black; font-size: 13.5pt" lang="EN-US"><o:p></o:p></span></p>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l4 level1 lfo7" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">获取</span><span lang="EN-US">fcgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">编译安装包，在</span><span lang="EN-US"><a href="http://www.fastcgi.com/drupal/node/5">http://www.fastcgi.com/drupal/node/5</a></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">上可以获取当前最新的版本。</span><span lang="EN-US"><o:p></o:p></span></p>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l4 level1 lfo7" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">解压缩</span><span lang="EN-US">fcgi-x.x.x.tar.gz</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">包。</span><span lang="EN-US"><o:p></o:p></span></p>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l4 level1 lfo7" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">进入解压缩目录，执行</span><span lang="EN-US">./configure</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">。</span><span lang="EN-US"><o:p></o:p></span></p>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l4 level1 lfo7" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span lang="EN-US">make &amp; make install<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">如果编译提示一下错误：</span><span lang="EN-US"><o:p></o:p></span></p>
<p style="margin: 3.75pt 0cm; background: white; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span style="font-family: 'Arial',sans-serif; background: white; color: black" lang="EN-US">fcgio.cpp: In destructor 'virtual fcgi_streambuf::~fcgi_streambuf()':</span><span style="font-family: 'Arial',sans-serif; background: white; color: black; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p><pre style="background: white"><span style="font-family: 'Arial',sans-serif; background: white; color: black" lang="EN-US">fcgio.cpp:50: error: 'EOF' was not declared in this scope<br>
fcgio.cpp: In member function 'virtual int fcgi_streambuf::overflow(int)':<br>
fcgio.cpp:70: error: 'EOF' was not declared in this scope<br>
fcgio.cpp:75: error: 'EOF' was not declared in this scope<br>
fcgio.cpp: In member function 'virtual int fcgi_streambuf::sync()':<br>
fcgio.cpp:86: error: 'EOF' was not declared in this scope<br>
fcgio.cpp:87: error: 'EOF' was not declared in this scope<br>
fcgio.cpp: In member function 'virtual int fcgi_streambuf::underflow()':<br>
fcgio.cpp:113: error: 'EOF' was not declared in this scope<br>
make[2]: *** [fcgio.lo] Error 1<br>
make[2]: Leaving directory `/root/downloads/fcgi-2.4.1-SNAP-0910052249/libfcgi'<br>
make[1]: *** [all-recursive] Error 1<br>
make[1]: Leaving directory `/root/downloads/fcgi-2.4.1-SNAP-0910052249'</span><span style="font-family: consolas; background: white; color: #333333; font-size: 11.5pt" lang="EN-US"><o:p></o:p></span></pre>
<p style="margin: 3.75pt 0cm; background: white; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span style="font-family: 'Arial',sans-serif; background: white; color: black" lang="EN-US">make: *** [all] Error 2</span><span style="font-family: 'Arial',sans-serif; background: white; color: black; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p>
<p style="margin: 3.75pt 0cm; background: white; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span style="background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: arial; mso-hansi-font-family: arial; mso-bidi-font-family: arial">解决办法：在</span><span style="font-family: 'Arial',sans-serif; background: white; color: black; font-size: 13.5pt" lang="EN-US">/include/fcgio.h</span><span style="background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: arial; mso-hansi-font-family: arial; mso-bidi-font-family: arial">文件中加上</span><span style="font-family: 'Arial',sans-serif; background: white; color: black; font-size: 13.5pt" lang="EN-US"> #include &lt;cstdio&gt;</span><span style="background: white; color: black; font-size: 13.5pt; mso-ascii-font-family: arial; mso-hansi-font-family: arial; mso-bidi-font-family: arial">，然后再编译安装就通过了。</span><span lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">如果提示找不到动态库，请在</span><span lang="EN-US">LD_LIBRARY_PATH</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">或</span><span lang="EN-US">/etc/ld.so.conf</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">中添加</span><span lang="EN-US">fcgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">的安装路径，如</span><span lang="EN-US">/usr/local/lib</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">，并执行</span><span lang="EN-US">ldconfig</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">更新一下。</span><span lang="EN-US"><o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: blue; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">#include</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"> </span><span style="font-family: consolas; background: white; color: #a31515; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">"fcgi_stdio.h"</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: blue; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">#include</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"> </span><span style="font-family: consolas; background: white; color: #a31515; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">&lt;stdlib.h&gt;</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: blue; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">int</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"> </span><span style="font-family: consolas; background: white; color: #880000; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">main</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">(</span><span style="font-family: consolas; background: white; color: blue; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">void</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">)<o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">{<o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: consolas; background: white; color: blue; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">int</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"> </span><span style="font-family: consolas; background: white; color: navy; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">count</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"> = 0;<o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: consolas; background: white; color: blue; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">while</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"> (FCGI_Accept() &gt;= 0)<o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><span style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: consolas; background: white; color: #880000; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">printf</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">(</span><span style="font-family: consolas; background: white; color: #a31515; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">"Content-type: text/html\r\n"</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><span style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: consolas; background: white; color: #a31515; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">"\r\n"</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><span style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: consolas; background: white; color: #a31515; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">"&lt;title&gt;FastCGI Hello!&lt;/title&gt;"</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><span style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: consolas; background: white; color: #a31515; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">"&lt;h1&gt;FastCGI Hello!&lt;/h1&gt;"</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><span style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: consolas; background: white; color: #a31515; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">"Request number %d running on host &lt;i&gt;%s&lt;/i&gt;\n"</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">,<o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><span style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>++</span><span style="font-family: consolas; background: white; color: navy; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">count</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">, </span><span style="font-family: consolas; background: white; color: #880000; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">getenv</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">(</span><span style="font-family: consolas; background: white; color: #a31515; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">"SERVER_NAME"</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">));<o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: consolas; background: white; color: blue; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">return</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"> 0;<o:p></o:p></span></p><pre style="background: white"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">}</span><span style="font-family: consolas; background: white; color: #333333; font-size: 11.5pt" lang="EN-US"><o:p></o:p></span></pre><pre style="background: white"><span style="font-family: consolas; background: white; color: #333333; font-size: 11.5pt" lang="EN-US"><o:p>&nbsp;</o:p></span></pre>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">编译</span><span style="background: white" lang="EN-US">g++ main.cpp -o demo –lfcgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">，并将</span><span style="background: white" lang="EN-US">demo</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">部署到</span><span style="background: white" lang="EN-US">/opt/nginx-1.7.7/cgi-bin/</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">目录</span><span style="background: white" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">通过</span><span style="background: white" lang="EN-US">spawn-fcgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">启动</span><span style="background: white" lang="EN-US">c/c++</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">编写好的</span><span style="background: white" lang="EN-US">fastcgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">程序：</span><span style="background: white" lang="EN-US">/opt/nginx-1.7.7/sbin/spawn-fcgi -a 127.0.0.1 -p 8081 -f /opt/nginx-1.7.7/cgi-bin/demo</span><span class="apple-converted-space"><span style="line-height: 115%; font-family: 'Arial',sans-serif; background: white; color: black; font-size: 13.5pt" lang="EN-US">&nbsp;</span></span><span style="line-height: 115%; font-family: '微软雅黑',sans-serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p>
<h3><span lang="EN-US">3.1.3. </span><span lang="EN-US">nginx fastcgi</span><span style="font-family: 宋体; mso-ascii-font-family: 'Calibri Light'; mso-ascii-theme-font: major-latin; mso-hansi-font-family: 'Calibri Light'; mso-hansi-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast">配置</span><span lang="EN-US"><o:p></o:p></span></h3>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">关于</span><span lang="EN-US">nginx</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">的几个配置文件解析，可以参阅《</span><span lang="EN-US"><a href="http://www.cnblogs.com/skynet/p/4146083.html">Nginx<span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin" lang="EN-US"><span lang="EN-US">安装与使用</span></span></a></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">》</span><span lang="EN-US"><a href="http://www.cnblogs.com/skynet/p/4146083.html">http://www.cnblogs.com/skynet/p/4146083.html</a></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">，在上篇的</span><span lang="EN-US">nginx.conf</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">基础上增加下面的</span><span lang="EN-US">fastcgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">配置。</span><span lang="EN-US"><o:p></o:p></span></p>
<p style="text-align: center" class="MsoNormal" align="center"><span style="mso-no-proof: yes" lang="EN-US"><a href="http://images.cnitblog.com/blog/92071/201412/191104500165694.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image007" alt="clip_image007" src="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/191104511574909.png" v:shapes="图片_x0020_1" border="0" width="471" height="389"></a></span><span style="line-height: 115%; font-family: '微软雅黑',sans-serif; font-size: 10.5pt" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">这样</span><span lang="EN-US">nginx</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">收到</span><span lang="EN-US"><a href="http://localhost/demo.cgi">http://localhost/demo.cgi</a></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">请求时，会匹配到</span><span lang="EN-US">location = /demo.cgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">块，将请求传到后端的</span><span lang="EN-US">fastcgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">应用程序处理。如下如所示：（注意其中</span><span lang="EN-US">number</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">为</span><span lang="EN-US">80</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">，是因为我请求了</span><span lang="EN-US">80</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">次）</span><span lang="EN-US"><o:p></o:p></span></p>
<p style="text-align: center" class="MsoNormal" align="center"><span style="mso-no-proof: yes" lang="EN-US"><a href="http://images.cnitblog.com/blog/92071/201412/191104520323810.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image008" alt="clip_image008" src="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/191104527668668.png" v:shapes="图片_x0020_3" border="0" width="471" height="220"></a></span><span lang="EN-US"><o:p></o:p></span></p>
<h2><span lang="EN-US">3.2. </span><span style="background: white" lang="EN-US">nginx + cgi<o:p></o:p></span></h2>
<p class="MsoNormal"><span style="font-family: 'Georgia',serif; background: white; color: #333333; mso-bidi-font-family: consolas" lang="EN-US">nginx </span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #333333; mso-ascii-font-family: georgia; mso-hansi-font-family: georgia; mso-bidi-font-family: consolas">不能直接执行外部可执行程序，并且</span><span style="font-family: 'Georgia',serif; background: white; color: #333333; mso-bidi-font-family: consolas" lang="EN-US">cgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #333333; mso-ascii-font-family: georgia; mso-hansi-font-family: georgia; mso-bidi-font-family: consolas">是接收到请求时才会启动</span><span style="font-family: 'Georgia',serif; background: white; color: #333333; mso-bidi-font-family: consolas" lang="EN-US">cgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #333333; mso-ascii-font-family: georgia; mso-hansi-font-family: georgia; mso-bidi-font-family: consolas">进程，不像</span><span style="font-family: 'Georgia',serif; background: white; color: #333333; mso-bidi-font-family: consolas" lang="EN-US">fastcgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; color: #333333; mso-ascii-font-family: georgia; mso-hansi-font-family: georgia; mso-bidi-font-family: consolas">会在一开就启动好，这样</span><span style="font-family: 'Georgia',serif; background: white; color: #333333; mso-bidi-font-family: consolas" lang="EN-US">nginx</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">天生是不支持</span><span style="background: white" lang="EN-US"> cgi </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">的。</span><span style="background: white" lang="EN-US">nginx </span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">虽然不支持</span><span style="background: white" lang="EN-US">cgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">，但它支持</span><span style="background: white" lang="EN-US"> fastCGI</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">。所以，我们可以考虑使用</span><span style="background: white" lang="EN-US">fastcgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">包装来支持</span><span style="background: white" lang="EN-US"> cgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">。原理大致如下图所示：</span><span style="background: white" lang="EN-US">pre-fork</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">几个通用的代理</span><span style="background: white" lang="EN-US">fastcgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">程序——</span><span style="background: white" lang="EN-US">fastcgi-wrapper</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">，</span><span style="background: white" lang="EN-US">fastcgi-wrapper</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">启动执行</span><span style="background: white" lang="EN-US">cgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">然后将</span><span style="background: white" lang="EN-US">cgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">的执行结果返回给</span><span style="background: white" lang="EN-US">nginx</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">（</span><span style="background: white" lang="EN-US">fork-and-exec</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">）。</span><span style="background: white" lang="EN-US"><o:p></o:p></span></p>
<p style="text-align: center" class="MsoNormal" align="center"><span lang="EN-US"><a href="http://images.cnitblog.com/blog/92071/201412/191104537821611.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image010" alt="clip_image010" src="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/191104553915370.png" v:shapes="_x0000_i1028" border="0" width="539" height="304"></a><span style="background: white"><o:p></o:p></span></span></p>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">明白原理之后，编写一个</span><span style="background: white" lang="EN-US">fastcgi-warpper</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">也比较简单。网上流传比较多的一个解决方案是，来自</span><span style="background: white" lang="EN-US">nginx wiki</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">（</span><span lang="EN-US"><a href="http://wiki.nginx.org/SimpleCGI"><span style="background: white">http://wiki.nginx.org/SimpleCGI</span></a></span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">）上的使用</span><span style="background: white" lang="EN-US">perl</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">的</span><span style="background: white" lang="EN-US">fastcgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">包装脚本</span><span style="background: white" lang="EN-US">cgiwrap-fcgi.pl</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">。但我对</span><span style="background: white" lang="EN-US">perl</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">不是很感冒，下面给出一个</span><span style="background: white" lang="EN-US">C/C++</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">写的</span><span style="background: white" lang="EN-US">fastcgi-wrapper</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">。</span><span style="background: white" lang="EN-US"><o:p></o:p></span></p>
<h3><span lang="EN-US">3.2.1. </span><span lang="EN-US">fastcgi-wrapper<o:p></o:p></span></h3>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">其实编写</span><span style="background: white" lang="EN-US">C/C++</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">的</span><span style="background: white" lang="EN-US">fastcgi-wrapper</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">，就是写一个</span><span style="background: white" lang="EN-US">C/C++</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">的</span><span style="background: white" lang="EN-US">fastcgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">，步骤和原理跟前面的小节（</span><span style="background: white" lang="EN-US">nginx+fastcgi</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">）一样。</span><span style="background: white" lang="EN-US">github</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">上已经有人开源了，</span><span style="background: white" lang="EN-US">C</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">写的</span><span style="background: white" lang="EN-US">fastcgi-wrapper</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">：</span><span style="background: white" lang="EN-US"><a href="https://github.com/gnosek/fcgiwrap">https://github.com/gnosek/fcgiwrap</a></span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">。</span><span style="background: white" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">安装</span><span lang="EN-US">fcgiwrap</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">：</span><span lang="EN-US"><o:p></o:p></span></p>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l6 level1 lfo8" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">下载（</span><span lang="EN-US"><a href="https://github.com/gnosek/fcgiwrap.git">https://github.com/gnosek/fcgiwrap.git</a></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">）</span><span lang="EN-US"><o:p></o:p></span></p>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l6 level1 lfo8" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">解压缩</span><span lang="EN-US">fcgiwrap</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">，进入解压目录</span><span lang="EN-US"><o:p></o:p></span></p>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l6 level1 lfo8" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span lang="EN-US">autoreconf -i<o:p></o:p></span></p>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l6 level1 lfo8" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span lang="EN-US">./configure<o:p></o:p></span></p>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l6 level1 lfo8" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span lang="EN-US">make &amp;&amp; make install<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">启动</span><span style="background: white" lang="EN-US">fastcgi-wrapper</span><span style="font-family: '微软雅黑',sans-serif; background: white; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">：</span><span style="background: white" lang="EN-US">/opt/nginx-1.7.7/sbin/spawn-fcgi</span><span lang="EN-US"> -f /usr/local/sbin/fcgiwrap -p 8081<o:p></o:p></span></p>
<h3><span lang="EN-US">3.2.2. </span><span style="background: white" lang="EN-US">nginx </span><span lang="EN-US">fcgiwrap</span><span style="font-family: 宋体; background: white; mso-ascii-font-family: 'Calibri Light'; mso-ascii-theme-font: major-latin; mso-hansi-font-family: 'Calibri Light'; mso-hansi-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast">配置</span><span style="background: white" lang="EN-US"><o:p></o:p></span></h3>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">在</span><span lang="EN-US">nginx.conf</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">中增加下面的</span><span lang="EN-US">loaction</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">配置块，这样所有的</span><span lang="EN-US">xxx.cgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">请求都会走到</span><span lang="EN-US">fcgiwrap</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">，然后</span><span lang="EN-US">fcgiwrap</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">会执行</span><span lang="EN-US">cgi-bin</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">目录下的</span><span lang="EN-US">cgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">程序。</span><span lang="EN-US"><o:p></o:p></span></p>
<p style="text-align: center" class="MsoNormal" align="center"><span style="mso-no-proof: yes" lang="EN-US"><a href="http://images.cnitblog.com/blog/92071/201412/191104568444614.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image011" alt="clip_image011" src="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/191104578914800.png" v:shapes="图片_x0020_2" border="0" width="535" height="187"></a></span><span lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<h3><span lang="EN-US">3.2.3. </span><span style="font-family: 宋体; mso-ascii-font-family: 'Calibri Light'; mso-ascii-theme-font: major-latin; mso-hansi-font-family: 'Calibri Light'; mso-hansi-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast">编写</span><span lang="EN-US">cgi</span><span style="font-family: 宋体; mso-ascii-font-family: 'Calibri Light'; mso-ascii-theme-font: major-latin; mso-hansi-font-family: 'Calibri Light'; mso-hansi-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast">应用程序</span><span lang="EN-US"><o:p></o:p></span></h3>
<p class="MsoNormal"><span lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: blue; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">#include</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"> </span><span style="font-family: consolas; background: white; color: #a31515; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">&lt;stdio.h&gt;</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: blue; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">#include</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"> </span><span style="font-family: consolas; background: white; color: #a31515; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">&lt;stdlib.h&gt;</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: blue; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">int</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"> </span><span style="font-family: consolas; background: white; color: #880000; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">main</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">(</span><span style="font-family: consolas; background: white; color: blue; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">void</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">)<o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">{<o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: consolas; background: white; color: blue; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">int</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"> </span><span style="font-family: consolas; background: white; color: navy; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">count</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"> = 0;<o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: consolas; background: white; color: #880000; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">printf</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">(</span><span style="font-family: consolas; background: white; color: #a31515; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">"Content-type: text/html\r\n"</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><span style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: consolas; background: white; color: #a31515; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">"\r\n"</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><span style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: consolas; background: white; color: #a31515; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">"&lt;title&gt;CGI Hello!&lt;/title&gt;"</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><span style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: consolas; background: white; color: #a31515; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">"&lt;h1&gt;CGI Hello!&lt;/h1&gt;"</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><span style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: consolas; background: white; color: #a31515; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">"Request number %d running on host &lt;i&gt;%s&lt;/i&gt;\n"</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">,<o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><span style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>++</span><span style="font-family: consolas; background: white; color: navy; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">count</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">, </span><span style="font-family: consolas; background: white; color: #880000; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">getenv</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">(</span><span style="font-family: consolas; background: white; color: #a31515; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">"SERVER_NAME"</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">));<o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: consolas; background: white; color: blue; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">return</span><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"> 0;<o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US">}<o:p></o:p></span></p>
<p style="line-height: normal; margin-bottom: 0pt; text-autospace: ; mso-pagination: none; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: consolas; background: white; color: black; font-size: 9.5pt; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-highlight: white" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="background: white" lang="EN-US">tyler@ubuntu:~/ClionProjects/HelloFastCGI$ g++ cgi.cpp -o cgidemo -lfcgi<o:p></o:p></span></p>
<p class="MsoNormal"><span style="background: white" lang="EN-US">tyler@ubuntu:~/ClionProjects/HelloFastCGI$ sudo cp cgidemo /opt/nginx-1.7.7/cgi-bin/<o:p></o:p></span></p>
<p class="MsoNormal"><span style="background: white" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p style="text-align: center" class="MsoNormal" align="center"><span style="mso-no-proof: yes" lang="EN-US"><a href="http://images.cnitblog.com/blog/92071/201412/191104590632258.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image012" alt="clip_image012" src="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/191104599698402.png" v:shapes="图片_x0020_4" border="0" width="469" height="223"></a></span><span lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">注意图中的请求次数一直都是</span><span lang="EN-US">1</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">，因为</span><span lang="EN-US">cgi</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">的模式是</span><span lang="EN-US">fork-and-exec</span><span style="font-family: '微软雅黑',sans-serif; mso-ascii-font-family: calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: calibri; mso-hansi-theme-font: minor-latin">，每次都是一个新的进程。</span><span lang="EN-US"><o:p></o:p></span></p>
<div style="border-bottom: #ed7d31 1pt solid; border-left: medium none; padding-bottom: 2pt; padding-left: 0cm; padding-right: 0cm; border-top: medium none; border-right: medium none; padding-top: 0cm; mso-element: para-border-div; mso-border-bottom-themecolor: accent2; mso-border-bottom-alt: solid #ed7d31 .5pt">
<h1><span style="font-family: 宋体; mso-ascii-font-family: 'Calibri Light'; mso-ascii-theme-font: major-latin; mso-hansi-font-family: 'Calibri Light'; mso-hansi-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast">参考链接</span><span lang="EN-US"><o:p></o:p></span></h1></div>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l7 level1 lfo5" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span lang="EN-US">CGI, <a href="http://www.dwz.cn/yFFgQ"><span style="line-height: 115%; font-family: consolas; font-size: 9pt">http://www.dwz.cn/yFFgQ</span></a> <o:p></o:p></span></p>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l7 level1 lfo5" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span lang="EN-US">fastcgi, <a href="http://www.dwz.cn/yFMap">http://www.dwz.cn/yFMap</a> <o:p></o:p></span></p>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l7 level1 lfo5" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span lang="EN-US">spawn-fcgi, <a href="http://redmine.lighttpd.net/projects/spawn-fcgi/wiki">http://redmine.lighttpd.net/projects/spawn-fcgi/wiki</a><o:p></o:p></span></p>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l7 level1 lfo5" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span lang="EN-US">fcgi, <span class="MsoHyperlink"><a href="http://www.fastcgi.com/drupal/node/6?q=node/21">http://www.fastcgi.com/drupal/node/6?q=node/21</a></span><o:p></o:p></span></p>
<p style="text-indent: -21pt; margin-left: 21pt; mso-char-indent-count: 0; mso-list: l2 level1 lfo4" class="MsoListParagraph"><span style="font-family: wingdings; mso-bidi-font-family: wingdings; mso-fareast-font-family: wingdings" lang="EN-US"><span style="mso-list: ignore">l<span style="font: 7pt 'Times New Roman'">&nbsp; </span></span></span><span lang="EN-US">fcgiwrap, <a href="https://github.com/gnosek/fcgiwrap.git">https://github.com/gnosek/fcgiwrap.git</a><o:p></o:p></span></p></div><div style="display: block;" id="MySignature"><p><br>
</p>
<div id="SkynetSignature">
<div><a href="http://www.cnblogs.com/skynet/" target="_blank"></a></div>
<p>作者：吴秦<br>
出处：http://www.cnblogs.com/skynet/<br>
本文基于<a target="_blank" href="http://creativecommons.org/licenses/by/2.5/cn/">署名 2.5 中国大陆</a>许可协议发布，欢迎转载，演绎或用于商业目的，但是必须保留本文的署名<a href="http://www.cnblogs.com/skynet/" target="_blank">吴秦</a>（包含链接）.</p>
</div>
</div>
        <div class="clear"></div>
        <div id="blog_post_info_block">
        <div id="blog_post_info"><div id="green_channel">
        <a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(4173450,cb_blogId,1);green_channel_success(this,'谢谢推荐！');">好文要顶</a>
            <a id="green_channel_follow" onclick="follow('8d36b081-9fb2-de11-ba8f-001cf0cd104b');" href="javascript:void(0);">关注我</a>
    <a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a>
    <a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/icon_weibo_24.png" alt=""></a>
    <a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
    <div id="author_profile_info" class="author_profile_info">
            <a href="http://home.cnblogs.com/u/skynet/" target="_blank"><img src="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/u92071.jpg" class="author_avatar" alt=""></a>
        <div id="author_profile_detail" class="author_profile_info">
            <a href="http://home.cnblogs.com/u/skynet/">吴秦</a><br>
            <a href="http://home.cnblogs.com/u/skynet/followees">关注 - 18</a><br>
            <a href="http://home.cnblogs.com/u/skynet/followers">粉丝 - 3263</a>
        </div>
    </div>
    <div class="clear"></div>
    <div id="author_profile_honor">荣誉：<a href="http://www.cnblogs.com/expert/" target="_blank">推荐博客</a></div>
    <div id="author_profile_follow">
                <a href="javascript:void(0);" onclick="follow('8d36b081-9fb2-de11-ba8f-001cf0cd104b');return false;">+加关注</a>
    </div>
</div>
<div id="div_digg">
    <div class="diggit" onclick="votePost(4173450,'Digg')">
        <span class="diggnum" id="digg_count">9</span>
    </div>
    <div class="buryit" onclick="votePost(4173450,'Bury')">
        <span class="burynum" id="bury_count">0</span>
    </div>
    <div class="clear"></div>
    <div class="diggword" id="digg_tips">
    </div>
</div>
</div>
        <div class="clear"></div>
        <div id="post_next_prev"><a href="http://www.cnblogs.com/skynet/p/4146083.html" class="p_n_p_prefix">« </a> 上一篇：<a href="http://www.cnblogs.com/skynet/p/4146083.html" title="发布于2014-12-05 10:26">Nginx安装与使用</a><br><a href="http://www.cnblogs.com/skynet/p/4229556.html" class="p_n_p_prefix">» </a> 下一篇：<a href="http://www.cnblogs.com/skynet/p/4229556.html" title="发布于2015-01-16 19:00">PyQt5应用与实践</a><br></div>
    </div>
</div>
    <ul class="postmetadata">
        <li class="icon_cat" id="BlogPostCategory">分类: <a href="http://www.cnblogs.com/skynet/category/434928.html" target="_blank">服务器开发</a>,<a href="http://www.cnblogs.com/skynet/category/637901.html" target="_blank">nginx</a></li>
        <li class="icon_bullet" id="EntryTag"></li>
    </ul>
</div>
<script type="text/javascript">var allowComments=true,cb_blogId=61567,cb_entryId=4173450,cb_blogApp=currentBlogApp,cb_blogUserGuid='8d36b081-9fb2-de11-ba8f-001cf0cd104b',cb_entryCreatedDate='2014/12/19 11:05:00';loadViewCount(cb_entryId);</script>
<script type="text/javascript">
    var m = window.__blog.postRendered;
    if (m) { m(__$("post")); }
</script>
<script type="text/javascript">
    var m = window.__blog.postRenderPosts;
    if (m) { m(); }
</script>
</div><a name="!comments"></a><div id="blog-comments-placeholder"><div id="comments_pager_top"></div>
<a class="addcomment" href="#comment_tip">Add your comment</a>
<h3 id="comments"></h3>
<div class="feedbackNoItems"></div>


<ol class="commentlist" id="commentList">	

		<li class="alt">
			<h5>
				<cite><a href="#3089785" class="layer">#1楼</a><a name="3089785" id="comment_anchor_3089785"></a></cite> <a id="a_comment_author_3089785" href="http://www.cnblogs.com/simpman/" target="_blank">simpman</a> <a href="http://msg.cnblogs.com/send/simpman" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2014-12-19 13:06</span></small>
			</h5>
			<div id="comment_body_3089785" class="blog_comment_body">叼，顶！用c做web啊</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3089785,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3089785,'Bury',this)">反对(0)</a></div><span id="comment_3089785_avatar" style="display:none;">http://pic.cnblogs.com/face/467192/20130524091552.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="#3120296" class="layer">#2楼</a><a name="3120296" id="comment_anchor_3120296"></a></cite> <a id="a_comment_author_3120296" href="http://www.cnblogs.com/gaochundong/" target="_blank">匠心十年</a> <a href="http://msg.cnblogs.com/send/%E5%8C%A0%E5%BF%83%E5%8D%81%E5%B9%B4" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2015-01-31 09:50</span></small>
			</h5>
			<div id="comment_body_3120296" class="blog_comment_body">不错</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3120296,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3120296,'Bury',this)">反对(0)</a></div><span id="comment_3120296_avatar" style="display:none;">http://pic.cnblogs.com/face/175043/20151217111243.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="#3146679" class="layer">#3楼</a><a name="3146679" id="comment_anchor_3146679"></a></cite> <a id="a_comment_author_3146679" href="http://www.cnblogs.com/fightformylife/" target="_blank">雄哼哼</a> <a href="http://msg.cnblogs.com/send/%E9%9B%84%E5%93%BC%E5%93%BC" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2015-03-23 12:39</span></small>
			</h5>
			<div id="comment_body_3146679" class="blog_comment_body">请问你的blog主题是自己做的么</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3146679,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3146679,'Bury',this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="#3217205" class="layer">#4楼</a><a name="3217205" id="comment_anchor_3217205"></a></cite> <a id="a_comment_author_3217205" href="http://home.cnblogs.com/u/91830/" target="_blank">chinazjf</a> <a href="http://msg.cnblogs.com/send/chinazjf" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2015-06-28 23:18</span></small>
			</h5>
			<div id="comment_body_3217205" class="blog_comment_body">好东西，参考并在自己的树莓派2上测试通过，谢谢楼主分享</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3217205,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3217205,'Bury',this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="#3325398" class="layer">#5楼</a><a name="3325398" id="comment_anchor_3325398"></a></cite> <a id="a_comment_author_3325398" href="http://www.cnblogs.com/stone531/" target="_blank">stone531</a> <a href="http://msg.cnblogs.com/send/stone531" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2015-12-11 18:43</span></small>
			</h5>
			<div id="comment_body_3325398" class="blog_comment_body">spawn-fcgi-. tar.gz  编译失败</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3325398,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3325398,'Bury',this)">反对(0)</a></div><span id="comment_3325398_avatar" style="display:none;">http://pic.cnblogs.com/face/771578/20150607003847.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="#3358244" class="layer">#6楼</a><a name="3358244" id="comment_anchor_3358244"></a><span id="comment-maxId" style="display:none;">3358244</span><span id="comment-maxDate" style="display:none;">2016/2/2 11:23:20</span></cite> <a id="a_comment_author_3358244" href="http://www.cnblogs.com/swing07/" target="_blank">swing07</a> <a href="http://msg.cnblogs.com/send/swing07" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2016-02-02 11:23</span></small>
			</h5>
			<div id="comment_body_3358244" class="blog_comment_body">LZ 请教一下：<br>1.data = getenv("QUERY_STRING"); 不同的请求QUERY_STRING应该不一样，那么如何区分开呢。多并发情况下，他们都是环境变量 不同的请求不一样，难道同一个环境变量有多份？<br>2.CGI和php又是怎么结合起来，php又是怎么获取环境变量的？<br>多谢？<br>3.同时如果fastcgi是unix socket的时候，环境变量如何传递，此时web server和fastcgi不再同一个机子上？</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3358244,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3358244,'Bury',this)">反对(0)</a></div><span id="comment_3358244_avatar" style="display:none;">http://pic.cnblogs.com/face/485485/20160826174008.png</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
</ol>

<div id="comments_pager_bottom"></div></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
<div id="comment_form_container"><div class="login_tips">注册用户登录后才能发表评论，请 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login('commentform');">登录</a> 或 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，<a href="http://www.cnblogs.com/">访问</a>网站首页。</div></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="ad_t2"><a href="http://www.ucancode.com/index.htm" target="_blank">【推荐】50万行VC++源码: 大型组态工控、电力仿真CAD与GIS源码库</a><br><a href="http://click.aliyun.com/m/12746/" target="_blank">【抢】大学生专享｜9.9元即刻拥有一台云服务器</a><br></div>
<div id="opt_under_post"></div>
<div id="ad_c1" class="c_ad_block">     <ins data-adsbygoogle-status="done" class="adsbygoogle" style="display: inline-block; width: 300px; height: 250px;" data-ad-client="ca-pub-4210569241504288" data-ad-slot="5457903683"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;" width="300" height="250" frameborder="0"></iframe></ins></ins></ins></div>
<div id="under_post_news"><div class="itnews c_ad_block"><b>最新IT新闻</b>:<br> ·  <a href="http://news.cnblogs.com/n/566297/" target="_blank">IBM的火眼金睛如何竟能识破蒙面人士?</a><br> ·  <a href="http://news.cnblogs.com/n/566295/" target="_blank">索尼51年历史地标将拆！CEO平井一夫吹萨克斯助兴</a><br> ·  <a href="http://news.cnblogs.com/n/566294/" target="_blank">为什么我不会无偿加班且你也不应该</a><br> ·  <a href="http://news.cnblogs.com/n/566293/" target="_blank">京东众筹上线了一款带Wi-Fi的移动电源：无卡上网流量王</a><br> ·  <a href="http://news.cnblogs.com/n/566292/" target="_blank">微软干着急：近半数人仍在用Windows 7</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div></div>
<div id="ad_c2" class="c_ad_block"><a href="http://click.aliyun.com/m/15483/" target="_blank"><img src="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/24442-20170331150421570-489464769.jpg" alt="" width="468" height="60"></a></div>
<div id="under_post_kb"><div class="itnews c_ad_block" id="kb_block"><b>最新知识库文章</b>:<br><div id="kb_recent"> ·  <a href="http://kb.cnblogs.com/page/537434/" target="_blank">程序员的“认知失调”</a><br> ·  <a href="http://kb.cnblogs.com/page/559485/" target="_blank">为什么有的人工作多年还是老样子</a><br> ·  <a href="http://kb.cnblogs.com/page/563885/" target="_blank">也许，这样理解HTTPS更容易</a><br> ·  <a href="http://kb.cnblogs.com/page/205634/" target="_blank">程序员学习能力提升三要素</a><br> ·  <a href="http://kb.cnblogs.com/page/559403/" target="_blank">为什么我要写自己的框架？</a><br></div>» <a href="http://kb.cnblogs.com/" target="_blank">更多知识库文章...</a></div></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverAdT2();
    deliverAdC1();
    deliverAdC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);   
</script>
</div>


        </div>

        <script type="text/javascript">
            var m = window.__blog.contentRendered;
            if (m) { m(__$("content")); }
        </script>

        <div id="sidebar">
            
<div id="about">
<div>
<h2 id="about_title">About</h2>
<div id="about_body">
<div id="blog-news"><div id="profile_block">昵称：<a href="http://home.cnblogs.com/u/skynet/">吴秦</a><br>园龄：<a href="http://home.cnblogs.com/u/skynet/" title="入园时间：2009-10-07">7年5个月</a><br>荣誉：<a href="http://www.cnblogs.com/expert/">推荐博客</a><br>粉丝：<a href="http://home.cnblogs.com/u/skynet/followers/">3263</a><br>关注：<a href="http://home.cnblogs.com/u/skynet/followees/">18</a><div id="p_b_follow"><a href="javascript:void(0);" onclick="follow('8d36b081-9fb2-de11-ba8f-001cf0cd104b')">+加关注</a></div></div></div>
<script type="text/javascript">loadBlogNews();</script>
</div>
</div>
</div>

            <script type="text/javascript">
                var m = window.__blog.aboutRendered;
                if (m) { m(__$("about")); }
            </script>
            
<div id="mySearchWrapper">
    <div id="mySearch">
        <input src="Nginx%20+%20CGI_FastCGI%20+%20C_Cpp%20-%20%E5%90%B4%E7%A7%A6%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/btnsearch.gif" id="btnZzk" class="submit" onclick="zzk_go();return false;" type="image">
        <label class="lb_search"><input id="q" onkeydown="return zzk_go_enter(event);" class="keyword" type="text"></label>
    </div>
</div>

            <script type="text/javascript">
                var m = window.__blog.searchFormRendered;
                if (m) { m(__$("searchform")); }
            </script>
            <div id="sideMain">
            <div id="side-recent-posts">
        <h2>最新随笔</h2>
        <ul class="bullet">
                <li><a href="http://www.cnblogs.com/skynet/p/5406495.html">Unity3D手游开发实践</a></li>
                <li><a href="http://www.cnblogs.com/skynet/p/4743458.html">Unity3D shader简介</a></li>
                <li><a href="http://www.cnblogs.com/skynet/p/4229556.html">PyQt5应用与实践</a></li>
                <li><a href="http://www.cnblogs.com/skynet/p/4173450.html">Nginx + CGI/FastCGI + C/Cpp</a></li>
                <li><a href="http://www.cnblogs.com/skynet/p/4146083.html">Nginx安装与使用</a></li>
                <li><a href="http://www.cnblogs.com/skynet/p/4135477.html">优雅的使用Python之软件管理</a></li>
                <li><a href="http://www.cnblogs.com/skynet/p/4124763.html">优雅的使用python之环境管理</a></li>
                <li><a href="http://www.cnblogs.com/skynet/p/3570421.html">SpriteSheet精灵动画引擎</a></li>
                <li><a href="http://www.cnblogs.com/skynet/p/3547380.html">【译】AS3利用CPU缓存</a></li>
                <li><a href="http://www.cnblogs.com/skynet/p/3543661.html">走在网页游戏开发的路上（十一）</a></li>
                <li><a href="http://www.cnblogs.com/skynet/p/3428369.html">自定义路径创建Cocos2d-x项目</a></li>
                <li><a href="http://www.cnblogs.com/skynet/p/3372855.html">C++静态库与动态库</a></li>
                <li><a href="http://www.cnblogs.com/skynet/p/3343726.html">C++对象模型</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2013/05/06/3063245.html">Python应用与实践</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2013/03/25/2980662.html">PureMVC（AS3）剖析：设计模式（二）</a></li>
        </ul>
    </div><div id="side-recent-comments">
        <h2>最新评论</h2>
        <ul class="voice">
                <li>
                    <a href="http://www.cnblogs.com/skynet/archive/2010/07/10/1774964.html#3639498">Re:C++项目中的extern "C" {}</a>
                    <br>
                    <a class="child" href="http://www.cnblogs.com/skynet/archive/2010/07/10/1774964.html#3639498">
                        写的真好，清晰，明了。
                        -- Bossweich
                    </a>
                </li>
                <li>
                    <a href="http://www.cnblogs.com/skynet/p/4146083.html#3633809">Re:Nginx安装与使用</a>
                    <br>
                    <a class="child" href="http://www.cnblogs.com/skynet/p/4146083.html#3633809">
                        讲得很好，但是看不懂，感觉不是人写的
                        -- crazy_snow
                    </a>
                </li>
                <li>
                    <a href="http://www.cnblogs.com/skynet/p/4124763.html#3630960">Re:优雅的使用python之环境管理</a>
                    <br>
                    <a class="child" href="http://www.cnblogs.com/skynet/p/4124763.html#3630960">
                        现在可以用Anaconda
                        -- BruceWayne09
                    </a>
                </li>
                <li>
                    <a href="http://www.cnblogs.com/skynet/archive/2010/10/30/1865267.html#3630754">Re:Linux多线程编程（不限Linux）</a>
                    <br>
                    <a class="child" href="http://www.cnblogs.com/skynet/archive/2010/10/30/1865267.html#3630754">
                        我顶！
                        -- Letsgollc
                    </a>
                </li>
                <li>
                    <a href="http://www.cnblogs.com/skynet/p/4229556.html#3611042">Re:PyQt5应用与实践</a>
                    <br>
                    <a class="child" href="http://www.cnblogs.com/skynet/p/4229556.html#3611042">
                        感谢大神分享，我正好也要做一个这样的软件
                        -- iPear
                    </a>
                </li>
        </ul>
    </div></div>
            <div id="sideRight">
            <div id="side-archives">
        <h2>随笔档案</h2>
        <ul class="date">
                <li><a href="http://www.cnblogs.com/skynet/archive/2016/04.html">2016年4月(1)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2015/08.html">2015年8月(1)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2015/01.html">2015年1月(1)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2014/12.html">2014年12月(3)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2014/11.html">2014年11月(1)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2014/02.html">2014年2月(3)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2013/11.html">2013年11月(1)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2013/10.html">2013年10月(1)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2013/09.html">2013年9月(1)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2013/05.html">2013年5月(1)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2013/03.html">2013年3月(2)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2013/02.html">2013年2月(2)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2013/01.html">2013年1月(2)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2012/12.html">2012年12月(4)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2012/11.html">2012年11月(1)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2012/08.html">2012年8月(1)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2012/04.html">2012年4月(1)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2012/03.html">2012年3月(2)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2012/01.html">2012年1月(1)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2011/07.html">2011年7月(1)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2011/06.html">2011年6月(5)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2011/05.html">2011年5月(3)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2011/03.html">2011年3月(2)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2011/02.html">2011年2月(1)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2011/01.html">2011年1月(2)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2010/12.html">2010年12月(6)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2010/10.html">2010年10月(1)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2010/09.html">2010年9月(4)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2010/07.html">2010年7月(12)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2010/06.html">2010年6月(4)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2010/05.html">2010年5月(14)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2010/04.html">2010年4月(12)</a></li>
                <li><a href="http://www.cnblogs.com/skynet/archive/2010/03.html">2010年3月(10)</a></li>
        </ul>
    </div></div>
            <div id="sideLeft">
            <div id="side-calendar">
        <h2>日历</h2>
        <div id="blog-calendar"><table id="blogCalendar" class="Cal" title="Calendar" cellpadding="0" cellspacing="0">
	<tbody><tr><td colspan="7"><table class="CalTitle" cellspacing="0">
		<tbody><tr><td class="CalNextPrev"><a href="javascript:void(0);" onclick="loadBlogCalendar('2017/03/01');return false;">&lt;</a></td><td align="center">2017年4月</td><td class="CalNextPrev" align="right"><a href="javascript:void(0);" onclick="loadBlogCalendar('2017/05/01');return false;">&gt;</a></td></tr>
	</tbody></table></td></tr><tr><th class="CalDayHeader" abbr="日" scope="col" align="center">日</th><th class="CalDayHeader" abbr="一" scope="col" align="center">一</th><th class="CalDayHeader" abbr="二" scope="col" align="center">二</th><th class="CalDayHeader" abbr="三" scope="col" align="center">三</th><th class="CalDayHeader" abbr="四" scope="col" align="center">四</th><th class="CalDayHeader" abbr="五" scope="col" align="center">五</th><th class="CalDayHeader" abbr="六" scope="col" align="center">六</th></tr><tr><td class="CalOtherMonthDay" align="center">26</td><td class="CalOtherMonthDay" align="center">27</td><td class="CalOtherMonthDay" align="center">28</td><td class="CalOtherMonthDay" align="center">29</td><td class="CalOtherMonthDay" align="center">30</td><td class="CalOtherMonthDay" align="center">31</td><td class="CalWeekendDay" align="center">1</td></tr><tr><td class="CalTodayDay" align="center">2</td><td align="center">3</td><td align="center">4</td><td align="center">5</td><td align="center">6</td><td align="center">7</td><td class="CalWeekendDay" align="center">8</td></tr><tr><td class="CalWeekendDay" align="center">9</td><td align="center">10</td><td align="center">11</td><td align="center">12</td><td align="center">13</td><td align="center">14</td><td class="CalWeekendDay" align="center">15</td></tr><tr><td class="CalWeekendDay" align="center">16</td><td align="center">17</td><td align="center">18</td><td align="center">19</td><td align="center">20</td><td align="center">21</td><td class="CalWeekendDay" align="center">22</td></tr><tr><td class="CalWeekendDay" align="center">23</td><td align="center">24</td><td align="center">25</td><td align="center">26</td><td align="center">27</td><td align="center">28</td><td class="CalWeekendDay" align="center">29</td></tr><tr><td class="CalWeekendDay" align="center">30</td><td class="CalOtherMonthDay" align="center">1</td><td class="CalOtherMonthDay" align="center">2</td><td class="CalOtherMonthDay" align="center">3</td><td class="CalOtherMonthDay" align="center">4</td><td class="CalOtherMonthDay" align="center">5</td><td class="CalOtherMonthDay" align="center">6</td></tr>
</tbody></table></div>
    </div><div id="side-categories">
        <h2>随笔分类</h2>
        <ul class="folder">
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/238071.html">.NET 2.0配置解谜系列(9)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/240142.html">.NET(C#) Internals (10)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/273085.html">【日常小记】(3)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/252978.html">【转载】(2)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/241385.html">Android开发之旅(18)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/552327.html">as3(1)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/248264.html">C/C++ Internals(15)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/533897.html">cocos2d-x(1)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/404925.html">JavaScript(1)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/637901.html">nginx(2)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/441705.html">PureMVC（AS3）剖析(5)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/290735.html">Python(5)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/725439.html">Unity3D(2)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/248267.html">Unix/Linux下编程(8)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/434928.html">服务器开发(3)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/452687.html">基于AIR Android应用开发(1)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/452612.html">客户端开发(1)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/239648.html">数据库(4)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/302183.html">网页游戏开发(23)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/237841.html">源码剖析：DotText源码学习(2)</a>
                </li>
                <li>
                    
                    <a href="http://www.cnblogs.com/skynet/category/254728.html">源码剖析：Mongoose(5)</a>
                </li>
        </ul>
    </div><div id="side-top-posts-custom">
    <h2>推荐排行榜</h2>
    <div id="TopDiggPostsBlock"><ul><li><a href="http://www.cnblogs.com/skynet/archive/2011/05/03/2035105.html">1. 字符集和字符编码（Charset &amp; Encoding）(156)</a></li><li><a href="http://www.cnblogs.com/skynet/archive/2010/04/12/1709892.html">2. Android开发之旅：环境搭建及HelloWorld(137)</a></li><li><a href="http://www.cnblogs.com/skynet/archive/2010/05/18/1738301.html">3. HTTP协议及其POST与GET操作差异 &amp; C#中如何使用POST、GET等(135)</a></li><li><a href="http://www.cnblogs.com/skynet/archive/2010/12/12/1903949.html">4. Linux Socket编程（不限Linux）(119)</a></li><li><a href="http://www.cnblogs.com/skynet/archive/2012/11/28/2792503.html">5. 浏览器缓存机制(83)</a></li><li><a href="http://www.cnblogs.com/skynet/p/5406495.html">6. Unity3D手游开发实践(75)</a></li><li><a href="http://www.cnblogs.com/skynet/p/3372855.html">7. C++静态库与动态库(65)</a></li><li><a href="http://www.cnblogs.com/skynet/archive/2010/10/30/1865267.html">8. Linux多线程编程（不限Linux）(56)</a></li><li><a href="http://www.cnblogs.com/skynet/archive/2010/12/11/1903347.html">9. HTTP Keep-Alive模式(56)</a></li><li><a href="http://www.cnblogs.com/skynet/archive/2010/06/06/1752616.html">10. Android 开发之旅：view的几种布局方式及实践(45)</a></li></ul></div>
</div><div id="side-top-posts">
    <h2>阅读排行榜</h2>
    <div id="TopViewPostsBlock"><ul><li><a href="http://www.cnblogs.com/skynet/archive/2010/04/12/1709892.html">1. Android开发之旅：环境搭建及HelloWorld(1058803)</a></li><li><a href="http://www.cnblogs.com/skynet/p/4146083.html">2. Nginx安装与使用(244573)</a></li><li><a href="http://www.cnblogs.com/skynet/archive/2010/12/12/1903949.html">3. Linux Socket编程（不限Linux）(238892)</a></li><li><a href="http://www.cnblogs.com/skynet/archive/2011/05/03/2035105.html">4. 字符集和字符编码（Charset &amp; Encoding）(188285)</a></li><li><a href="http://www.cnblogs.com/skynet/archive/2010/04/15/1712924.html">5. Android开发之旅：android架构(100678)</a></li><li><a href="http://www.cnblogs.com/skynet/archive/2010/06/06/1752616.html">6. Android 开发之旅：view的几种布局方式及实践(98911)</a></li><li><a href="http://www.cnblogs.com/skynet/archive/2010/12/25/1916873.html">7. 【日常小记】linux中强大且常用命令：find、grep(85672)</a></li><li><a href="http://www.cnblogs.com/skynet/p/3372855.html">8. C++静态库与动态库(84039)</a></li><li><a href="http://www.cnblogs.com/skynet/archive/2010/09/05/1818636.html">9. C++的函数重载(83858)</a></li><li><a href="http://www.cnblogs.com/skynet/archive/2011/02/20/1959162.html">10. C/C++内存泄漏及检测(75742)</a></li></ul></div>
</div>    
    
    
    
    


        
<div id="side-link-240090">
            <h2>系列索引帖</h2>
            <ul class="chain">
                        <li>
                            <a href="http://www.cnblogs.com/skynet/archive/2010/04/02/1703380.html" target="_self">.NET 2.0配置解谜系列索引（完结）</a>
                        </li>
            </ul>
        </div></div>
            
                <div id="sideContainer"></div>
                <script type="text/javascript">
                    $.ajax({
                        url: '/' + currentBlogApp + '/mvc/blog/Minyx2_Lite_SideColumn.aspx',
                        data: '{}',
                        type: 'post',
                        dataType: 'text',
                        contentType: 'application/json; charset=utf-8',
                        success: function (data) {
                            if (data) {
                                $("#sideContainer").html(data);
                                loadBlogDefaultCalendar();
                                loadBlogSideBlocks();
                                var m = window.__blog.sideContainerRendered;
                                if (m) { m(__$("sideContainer")); }
                                window.__blog.sidebar.__layout();
                            }
                        }
                    });

                </script>
            
        </div>

        <script type="text/javascript">
            var m = window.__blog.sidebarRendered;
            if (m) { m(__$("sidebar")); }
        </script>

        <div id="footer">
            
<p id="logoFoot">
    <a href="http://www.spiga.com.mx/" title="Agencia Interactiva Spiga">www.spiga.com.mx</a>
</p>
<div class="footText">
<p>
Copyright ©2017 吴秦
</p>
<p>
<a href="http://www.cnblogs.com/">博客园</a>
</p>
</div>
        </div>
    </div>

    <script type="text/javascript">
        var m = window.__blog.wrapperRendered;
        if (m) { m(__$("wrapper")); }
    </script>

</div>
<script type="text/javascript">
    var m = window.__blog.containerRendered;
    if (m) { m(__$("container")); }
</script>
<!--PageEndHtml Block Begin-->
<script language="javascript">
$(document).ready(function(){
    $("body").prepend($("#div_digg").css({
        "position" : "fixed", "right" : "0px", "bottom" : "0px", "z-index" : "10", "background-color" : "white", "margin" : "10px", "padding" : "10px", "border" : "1px solid #cccccc"}));
});
</script>

<!--PageEndHtml Block End-->


</body></html>